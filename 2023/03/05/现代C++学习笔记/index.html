

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=dark>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.jpg">
  <link rel="icon" href="/img/avatar.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#473321">
  <meta name="author" content="fan fan">
  <meta name="keywords" content="">
  
    <meta name="description" content="C++çš„åŸºæœ¬ç‰¹æ€§ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ç¨‹åºè¢«æ‰§è¡Œåå°±è¢«ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥è¢«åˆ’åˆ†ä¸ºå¾ˆå¤šåŒºåŸŸã€‚ å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ä»¥ä¸‹å››ä¸ªåŒºåŸŸã€‚ 1ä»£ç åŒºä¸å¸¸é‡åŒºï¼šè¿›ç¨‹æŒ‰ç…§ä»£ç åŒºçš„ä»£ç æ‰§è¡Œï¼ŒçœŸæ­£çš„å¸¸é‡ä¹Ÿå­˜å‚¨åœ¨è¿™é‡Œï¼Œæ¯”å¦‚â€œabcâ€å­—ç¬¦ä¸²ï¼Œâ€œ1â€ï¼Œâ€œ88â€ç­‰æ•°å­—ã€‚è¿™äº›æ˜¯çœŸæ­£çš„å¸¸é‡ã€‚å†çœ‹ä¸€ä¸‹constå…³é”®å­—ã€‚conståªä¸è¿‡æ˜¯è®©ç¼–è¯‘å™¨å°†å˜é‡è§†ä¸ºå¸¸é‡ç½¢äº†ï¼Œå’ŒçœŸæ­£çš„å¸¸é‡æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ« 2æ ˆåŒºï¼šå‡½æ•°çš„æ‰§è¡Œæ‰€éœ€çš„ç©ºé—´ï¼Œæ³¨æ„ï¼Œå½“å‡½æ•°æ‰§">
<meta property="og:type" content="article">
<meta property="og:title" content="ç°ä»£C++å­¦ä¹ ç¬”è®°">
<meta property="og:url" content="http://example.com/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Pfang1n&#39;s blog">
<meta property="og:description" content="C++çš„åŸºæœ¬ç‰¹æ€§ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ç¨‹åºè¢«æ‰§è¡Œåå°±è¢«ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥è¢«åˆ’åˆ†ä¸ºå¾ˆå¤šåŒºåŸŸã€‚ å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ä»¥ä¸‹å››ä¸ªåŒºåŸŸã€‚ 1ä»£ç åŒºä¸å¸¸é‡åŒºï¼šè¿›ç¨‹æŒ‰ç…§ä»£ç åŒºçš„ä»£ç æ‰§è¡Œï¼ŒçœŸæ­£çš„å¸¸é‡ä¹Ÿå­˜å‚¨åœ¨è¿™é‡Œï¼Œæ¯”å¦‚â€œabcâ€å­—ç¬¦ä¸²ï¼Œâ€œ1â€ï¼Œâ€œ88â€ç­‰æ•°å­—ã€‚è¿™äº›æ˜¯çœŸæ­£çš„å¸¸é‡ã€‚å†çœ‹ä¸€ä¸‹constå…³é”®å­—ã€‚conståªä¸è¿‡æ˜¯è®©ç¼–è¯‘å™¨å°†å˜é‡è§†ä¸ºå¸¸é‡ç½¢äº†ï¼Œå’ŒçœŸæ­£çš„å¸¸é‡æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ« 2æ ˆåŒºï¼šå‡½æ•°çš„æ‰§è¡Œæ‰€éœ€çš„ç©ºé—´ï¼Œæ³¨æ„ï¼Œå½“å‡½æ•°æ‰§">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20230723222613399.png">
<meta property="og:image" content="http://example.com/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-03-20%20165343-1679302470989-3.png">
<meta property="og:image" content="http://example.com/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20230723222722915.png">
<meta property="article:published_time" content="2023-03-05T09:45:22.000Z">
<meta property="article:modified_time" content="2023-07-23T14:27:38.538Z">
<meta property="article:author" content="fan fan">
<meta property="article:tag" content="c++">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20230723222613399.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ç°ä»£C++å­¦ä¹ ç¬”è®° - Pfang1n&#39;s blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/mac.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/shubiao.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/scroll.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.5-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"ğŸ’¡","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"Â§"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', '');
        });
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Pfang1n&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                <span>å‹é“¾</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ç°ä»£C++å­¦ä¹ ç¬”è®°"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-05 17:45" pubdate>
          2023å¹´3æœˆ5æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          51k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          428 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ç°ä»£C++å­¦ä¹ ç¬”è®°</h1>
            
              <p class="note note-info">
                
                  
                    æœ¬æ–‡æœ€åæ›´æ–°äºï¼š5 ä¸ªæœˆå‰
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h1 id="C-çš„åŸºæœ¬ç‰¹æ€§"><a href="#C-çš„åŸºæœ¬ç‰¹æ€§" class="headerlink" title="C++çš„åŸºæœ¬ç‰¹æ€§"></a>C++çš„åŸºæœ¬ç‰¹æ€§</h1><h2 id="ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹"><a href="#ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹"></a>ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹</h2><p>ç¨‹åºè¢«æ‰§è¡Œåå°±è¢«ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥è¢«åˆ’åˆ†ä¸ºå¾ˆå¤šåŒºåŸŸã€‚</p>
<p>å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ä»¥ä¸‹å››ä¸ªåŒºåŸŸã€‚</p>
<p><strong>1ä»£ç åŒºä¸å¸¸é‡åŒºï¼š</strong>è¿›ç¨‹æŒ‰ç…§ä»£ç åŒºçš„ä»£ç æ‰§è¡Œï¼ŒçœŸæ­£çš„å¸¸é‡ä¹Ÿå­˜å‚¨åœ¨è¿™é‡Œï¼Œæ¯”å¦‚â€œabcâ€å­—ç¬¦ä¸²ï¼Œâ€œ1â€ï¼Œâ€œ88â€ç­‰æ•°å­—ã€‚è¿™äº›æ˜¯çœŸæ­£çš„å¸¸é‡ã€‚å†çœ‹ä¸€ä¸‹constå…³é”®å­—ã€‚conståªä¸è¿‡æ˜¯è®©ç¼–è¯‘å™¨å°†å˜é‡è§†ä¸ºå¸¸é‡ç½¢äº†ï¼Œå’ŒçœŸæ­£çš„å¸¸é‡æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«</p>
<p><strong>2æ ˆåŒºï¼š</strong>å‡½æ•°çš„æ‰§è¡Œæ‰€éœ€çš„ç©ºé—´ï¼Œæ³¨æ„ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå‡½æ•°å¯¹åº”çš„æ ˆå†…å­˜å…¨éƒ¨é”€æ¯ã€‚</p>
<p><strong>3å †åŒºï¼š</strong>è¿›ç¨‹ç”¨æ¥åˆ†é…å†…å­˜çš„åœ°æ–¹ï¼Œåªæœ‰æ‰‹åŠ¨é‡Šæ”¾æ‰èƒ½é”€æ¯å†…å­˜ã€‚</p>
<p><strong>4é™æ€å˜é‡åŒºï¼š</strong></p>
<p>(1)é™æ€å˜é‡ï¼šå¸¸å¸¸é‡åˆ°çš„ä¸€äº›å±€éƒ¨ä½œç”¨èŒƒå›´ï¼Œç”Ÿå‘½å‘¨æœŸå´å¾ˆé•¿çš„å˜é‡ã€‚</p>
<p>(2)å…¨å±€å˜é‡ï¼šåœ¨c++ä¸­ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šç ´åå°è£…æ€§ã€‚</p>
<p><img src="/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20230723222613399.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<p><strong>å †å’Œæ ˆçš„å…³ç³»</strong></p>
<p>å †åŒºæœ‰çµæ´»çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœéœ€è¦åˆ›å»ºçš„å¯¹è±¡æœ‰å‡ åMï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°éƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªè¿™ä¹ˆå¤§çš„å¯¹è±¡ï¼Œå†å¤åˆ¶åˆ°å¯¹åº”çš„å®¹å™¨ä¸­ï¼Œé‚£å°±å¤ªè¿‡è€—è´¹å†…å­˜äº†ã€‚è€Œä¸”æ ˆå†…å­˜éå¸¸çš„å°ï¼Œé€šå¸¸ä¸è¶…è¿‡8Mã€‚è€Œä½¿ç”¨å †å†…å­˜ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡å‡½æ•°å°±å¯ä»¥åœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå®¹å™¨ä¸­åªè¦å­˜å‚¨æŒ‡é’ˆå°±å¯ä»¥äº†ï¼Œæå¤§çš„æé«˜äº†ç¨‹åºæ•ˆç‡ã€‚æ ˆåŒºæ˜¯å‡½æ•°æ‰§è¡Œçš„åŒºåŸŸï¼Œå †åŒºæ˜¯å‡½æ•°å†…çµæ´»åˆ†é…å†…å­˜çš„åœ°æ–¹ï¼ŒäºŒè€…ç¼ºä¸€ä¸å¯ã€‚å †çš„å”¯ä¸€å¯»å€æ–¹å¼å°±æ˜¯æŒ‡é’ˆï¼Œå¦‚æœæ²¡æœ‰æ ˆï¼Œæ ¹æœ¬æ— æ³•ä½¿ç”¨å †ã€‚</p>
<h2 id="new-å…³é”®å­—åŠå†…å­˜æ³„æ¼"><a href="#new-å…³é”®å­—åŠå†…å­˜æ³„æ¼" class="headerlink" title="(*) new å…³é”®å­—åŠå†…å­˜æ³„æ¼"></a>(*) new å…³é”®å­—åŠå†…å­˜æ³„æ¼</h2><p><strong>1.newå…³é”®å­—æ˜¯c++ç”¨æ¥åŠ¨æ€åˆ†é…å†…å­˜çš„ä¸»è¦æ–¹å¼</strong>.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;isotream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span>* pi = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">100</span>);<br>	std::cout &lt;&lt; *pi &lt;&lt; std::endl;<br>    <span class="hljs-keyword">delete</span> pi;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>newå¯ä»¥ç›´æ¥åˆ†é…å•ä¸ªå˜é‡çš„å†…å­˜ï¼Œä¹Ÿå¯ä»¥åˆ†é…æ•°ç»„ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123; <br>	<span class="hljs-type">int</span>* pi = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">100</span>]();<span class="hljs-comment">//å°æ‹¬å·åˆå§‹åŒ–ä¸ºé›¶ï¼Œæ²¡æœ‰å°æ‹¬å·åˆ†é…æœªå®šä¹‰çš„å†…å­˜ï¼Œè€Œä¸”ä¸å¯ä»¥èµ‹åˆå€¼</span><br>	std::cout &lt;&lt; pi[<span class="hljs-number">20</span>] &lt;&lt; std::endl;<br>	<span class="hljs-keyword">delete</span>[] pi;<span class="hljs-comment">//ä¸åŠ ä¸­æ‹¬å·ä¼šå¯¼è‡´åŠ¨æ€å†…å­˜æ³„éœ²</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>åœ¨åˆ†é…å•ä¸ªå¯¹è±¡çš„å†…å­˜æ—¶ï¼Œ</strong></p>
<p>å½“å¯¹è±¡æ˜¯æ™®é€šå˜é‡æ—¶ï¼Œå¯ä»¥åˆ†é…å¯¹åº”çš„å†…å­˜</p>
<p>å½“å¯¹è±¡æ˜¯ç±»å¯¹è±¡æ—¶ï¼Œä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::string* pString = <span class="hljs-keyword">new</span> std::<span class="hljs-built_in">string</span>(<span class="hljs-string">&quot;hello world&quot;</span>);<span class="hljs-comment">//å¦‚æœæ˜¯å­—ç¬¦ä¸²æ•°ç»„çš„è¯ä¸èƒ½èµ‹åˆå€¼</span><br>	std::cout &lt;&lt; *pString &lt;&lt; std::endl;<br>	<span class="hljs-keyword">delete</span> pString;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>åœ¨åˆ†é…æ•°ç»„å¯¹è±¡å†…å­˜æ—¶ï¼š</p>
<p>å¯¹äºæ™®é€šå˜é‡ï¼šå¯ä»¥ä½¿ç”¨â€œï¼ˆï¼‰â€å°†æ‰€æœ‰å¯¹è±¡å…¨éƒ¨åˆå§‹åŒ–ä¸º0ã€‚</p>
<p>å¯¹äºç±»å¯¹è±¡ï¼Œæœ‰æ²¡æœ‰â€œï¼ˆï¼‰â€éƒ½ä¸€æ ·ï¼Œå‡ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°å°±ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Test</span>(<span class="hljs-type">int</span> i_) :<span class="hljs-built_in">i</span>(i_)&#123;&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> i;<br><br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123; <br>	Test* pTest = <span class="hljs-keyword">new</span> Test[<span class="hljs-number">100</span>];<span class="hljs-comment">//è¿™æ˜¯é”™è¯¯çš„,ç±»Testä¸å­˜åœ¨é»˜è®¤æ„é€ å‡½æ•°</span><br>	<span class="hljs-keyword">delete</span>[] pTest;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>2å†…å­˜æ³„æ¼</strong></p>
<p>â€‹	å†…å­˜æ³„éœ²ä¼šå¯¼è‡´å †å†…å­˜çš„é€æ¸è¢«å ç”¨ï¼Œæœ€ç»ˆå†…å­˜ç”¨å®Œç¨‹åºå´©æºƒã€‚å¸¸è§çš„æƒ…å†µå°±æ˜¯é¡¹ç›®æµ‹è¯•æ²¡é—®é¢˜ï¼Œä¸Šçº¿å‡ å¤©å°±ç‚¸äº†ã€‚ç„¶åå°±ä¼šéå¸¸éº»çƒ¦ï¼Œæ’æŸ¥å›°éš¾ï¼ŒæŸå¤±å¾ˆå¤§ã€‚</p>
<p><strong>å†…å­˜æ³„éœ²æ˜¯æœ€ä¸¥é‡çš„é”™è¯¯ä¹‹ä¸€ï¼Œç¨‹åºä¸æ€•æŠ¥é”™ï¼Œå°±æ€•ä¸€å¼€å§‹è¿è¡Œçš„å¥½å¥½çš„ï¼Œçªç„¶å°±å‡ºç°äº†è«åå…¶å¦™çš„é”™è¯¯ã€‚</strong></p>
<p>è¿™å¥è¯ä¹Ÿå¼•å‡ºäº†åé¢çš„ä¸¤ä¸ªéƒ¨åˆ†ã€‚ï¼ˆæœŸå¾…å­¦ä¹ hhhï¼‰</p>
<p><strong>Part4çš„æ™ºèƒ½æŒ‡é’ˆ</strong>å¯ä»¥éå¸¸å¥½çš„é¿å…å†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚</p>
<p><strong>Part9çš„å¼‚å¸¸å¤„ç†</strong>éƒ¨åˆ†å¯ä»¥æ°å½“çš„å¤„ç†ç¨‹åºå‡ºç°çš„å¼‚å¸¸ï¼Œè®©ç¨‹åºæœ‰é”™è¯¯å°±ç«‹é©¬å¤„ç†ï¼Œæˆ–ç›´æ¥ç»ˆæ­¢è¿›ç¨‹ï¼Œæˆ–å¿½ç•¥ï¼Œä¸è¦è®©å¼‚å¸¸è«åå…¶å¦™ã€‚è¿™æ˜¯ç¨‹åºè®¾è®¡çš„é‡è¦ç†å¿µã€‚</p>
<h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><p>C++ç»å¸¸éœ€è¦å¤šä¸ªå›¢é˜Ÿåˆä½œæ¥å®Œæˆå¤§å‹é¡¹ç›®ã€‚å¤šä¸ªå›¢é˜Ÿå°±å¸¸å¸¸å‡ºç°èµ·åé‡å¤çš„é—®é¢˜ï¼ŒC++å°±æä¾›äº†å‘½åç©ºé—´æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>ä¾‹å­</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++">ATest.h<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>BTest.h<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>BTest.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;BTest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;B::()&quot;</span> &lt;&lt; std::endl;<br>&#125;<br>ATest.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;ATest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;A::()&quot;</span> &lt;&lt; std::endl;<br>&#125;<br>main.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;ATest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;BTest.h&quot;</span></span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">test</span>();<span class="hljs-comment">//æŠ¥é”™ï¼Œä¸çŸ¥é“è°ƒç”¨å“ªä¸ªtestå‡½æ•°</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>è§£å†³(ä½¿ç”¨å‘½åç©ºé—´)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c++">ATest.h<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-keyword">namespace</span> A<br>&#123;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><br>BTest.h<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-keyword">namespace</span> B<br>&#123;   <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><br>BTest.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;BTest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">namespace</span> B<br>&#123;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;B::test()&quot;</span> &lt;&lt; std::endl;<br>&#125;<br>&#125;<br><br><br>ATest.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;ATest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">namespace</span> A<br>&#123;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;A::test()&quot;</span> &lt;&lt; std::endl;<br>&#125;<br>&#125;<br><br><br>main.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;ATest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;BTest.h&quot;</span></span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>	B::<span class="hljs-built_in">test</span>();<br>    A::<span class="hljs-built_in">test</span>();<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>é¡ºä¾¿æä¸¤ç‚¹</strong></p>
<p>å‘½åç©ºé—´çš„å®ç°åŸç†ï¼ŒC++æœ€åéƒ½è¦è½¬åŒ–ä¸ºCæ¥æ‰§è¡Œç¨‹åºã€‚åœ¨namespace Aä¸­å®šä¹‰çš„Testç±»ï¼Œå…¶å®å…¨åæ˜¯A::Testã€‚C++æ‰€æœ‰ç‰¹æœ‰çš„åº“ï¼ˆæŒ‡cæ²¡æœ‰çš„åº“ï¼‰,éƒ½ä½¿ç”¨äº†stdçš„å‘½åç©ºé—´ã€‚æ¯”å¦‚æœ€å¸¸ç”¨çš„iostreamã€‚</p>
<p><strong>usingå…³é”®å­—è®¾è®¡çš„ç›®çš„ä¹‹ä¸€å°±æ˜¯ä¸ºäº†ç®€åŒ–å‘½åç©ºé—´çš„ã€‚usingå…³é”®å­—åœ¨å‘½åç©ºé—´æ–¹é¢ä¸»è¦æœ‰ä¸¤ç§ç”¨æ³•ã€‚</strong></p>
<ol>
<li><p><strong>using å‘½åç©ºé—´::å˜é‡å</strong>ã€‚è¿™æ ·ä»¥åä½¿ç”¨æ­¤å˜é‡æ—¶åªè¦ä½¿ç”¨å˜é‡åå°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++">main.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;ATest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;BTest.h&quot;</span></span><br><span class="hljs-keyword">using</span> A::test;<br><span class="hljs-keyword">using</span> B::test;<span class="hljs-comment">//åŒæ—¶ä½¿ç”¨ä¼šæŠ¥é”™</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">test</span>();<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>


</li>
<li><p><strong>using namspce å‘½åç©ºé—´</strong>ã€‚è¿™æ ·ï¼Œæ¯ä¸€ä¸ªå˜é‡éƒ½ä¼šåœ¨è¯¥å‘½åç©ºé—´ä¸­å¯»æ‰¾ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++">main.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;ATest.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;BTest.h&quot;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> A;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> B;<span class="hljs-comment">//åŒæ—¶ä½¿ç”¨ä¼šæŠ¥é”™</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">test</span>();<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>æ‰€ä»¥ï¼Œå¤´æ–‡ä»¶ä¸­ä¸€å®šä¸èƒ½ä½¿ç”¨usingå…³é”®å­—ã€‚ä¼šå¯¼è‡´å‘½åç©ºé—´çš„æ±¡æŸ“</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++">é”™è¯¯ä»£ç <br>ATest.h<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-keyword">namespace</span> A<br>&#123;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>&#125;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> A;<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="C-çš„æ ‡å‡†è¾“å…¥è¾“å‡ºç®€ä»‹"><a href="#C-çš„æ ‡å‡†è¾“å…¥è¾“å‡ºç®€ä»‹" class="headerlink" title="(*)C++çš„æ ‡å‡†è¾“å…¥è¾“å‡ºç®€ä»‹"></a>(*)C++çš„æ ‡å‡†è¾“å…¥è¾“å‡ºç®€ä»‹</h2><p>è¾“å…¥è¾“å‡ºç®€å•æ¥è¯´å°±æ˜¯æ•°æ®åœ¨è¾“å…¥è®¾å¤‡ï¼Œå†…å­˜ï¼Œç¡¬ç›˜ï¼Œè¾“å‡ºè®¾å¤‡ä¹‹é—´ç§»åŠ¨çš„è¿‡ç¨‹ã€‚</p>
<p>cè¯­è¨€è®¾å®šäº†å¾ˆå¤šä¸ç›¸å…³çš„å‡½æ•°è¿˜å®ç°è¿™äº›è¿‡ç¨‹ã€‚</p>
<p>æ¯”å¦‚printfå°±æ˜¯è®©æ•°æ®ä»å†…å­˜åˆ°æ˜¾ç¤ºå±ï¼ˆæ˜¾ç¤ºå±å°±æ˜¯è¾“å‡ºè®¾å¤‡ï¼‰ã€‚scanfå°±æ˜¯è®©æ•°æ®ä»é”®ç›˜ï¼ˆé”®ç›˜æ˜¯è¾“å…¥è®¾å¤‡ï¼‰åˆ°å†…å­˜ã€‚æ­¤å¤–è¿˜æœ‰ä»å†…å­˜åˆ°ç£ç›˜çš„æ–‡ä»¶æ“ä½œå‡½æ•°ã€‚</p>
<p> cè¯­è¨€çš„å‡½æ•°è™½ç„¶ç®€å•æ–¹ä¾¿ï¼Œä½†å½¼æ­¤ä¹‹é—´æ²¡æœ‰å…³è”ã€‚C++æœ‰äº†ç»§æ‰¿åŠŸèƒ½ï¼Œå¯ä»¥è®©å­ç±»ä¸çˆ¶ç±»ä¹‹é—´æœ‰å…³è”æ€§ï¼Œæå¤§çš„æé«˜å„ç§è¾“å…¥è¾“å‡ºåŠŸèƒ½ä¹‹é—´çš„è€¦åˆæ€§ã€‚</p>
<p>äºæ˜¯C++ç”¨ç»§æ‰¿åŠŸèƒ½é‡å†™äº†è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œè¿™å°±æ˜¯ioåº“ï¼Œioåº“å¼•å…¥äº†â€œæµâ€çš„æ¦‚å¿µï¼Œæ•°æ®ä»ä¸€ä¸ªåœ°æ–¹åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼ŒåŸæœ¬åœ°æ–¹çš„æ•°æ®å°±æ²¡äº†ï¼Œå«åšæµå¾ˆè´´åˆ‡ã€‚</p>
<p> ioåº“æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„éƒ¨åˆ†ï¼Œä½†ç°é˜¶æ®µæˆ‘ä»¬åªè¦ä¼šä½¿ç”¨è¾“å…¥è¾“å‡ºæµï¼Œcoutå’Œcinå°±å¯ä»¥äº†ã€‚</p>
<p>coutå¯ä»¥è®©æ•°æ®ä»å†…å­˜æµåˆ°è¾“å‡ºè®¾å¤‡ï¼Œcinå¯ä»¥è®©æ•°æ®ä»è¾“å…¥è®¾å¤‡æµåˆ°å†…å­˜ã€‚</p>
<h2 id="constå…³é”®å­—çš„ä»‹ç»"><a href="#constå…³é”®å­—çš„ä»‹ç»" class="headerlink" title="constå…³é”®å­—çš„ä»‹ç»"></a>constå…³é”®å­—çš„ä»‹ç»</h2><p>constæ˜¯è®©ç¼–è¯‘å™¨å°†å˜é‡è§†ä¸ºå¸¸é‡ï¼Œç”¨constä¿®é¥°çš„å˜é‡å’ŒçœŸæ­£çš„å¸¸é‡æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚</p>
<ol>
<li><p>çœŸæ­£çš„å¸¸é‡å­˜å‚¨åœ¨<strong>å¸¸é‡åŒº</strong>æˆ–<strong>ä»£ç åŒº</strong>ï¼Œæ¯”å¦‚â€œabcdefgâ€è¿™ä¸ªå­—ç¬¦ä¸²å°±å­˜å‚¨åœ¨å¸¸é‡åŒºï¼Œè€Œâ€œ3â€ï¼Œâ€œ100â€è¿™äº›æ•°å­—å°±å­˜å‚¨åœ¨ä»£ç åŒºä¸­ï¼Œè¿™äº›éƒ½æ˜¯çœŸæ­£çš„å¸¸é‡ï¼Œ<strong>æ— æ³•ç”¨ä»»ä½•æ–¹å¼ä¿®æ”¹ã€‚</strong></p>
</li>
<li><p>constä¿®é¥°çš„å˜é‡ä»ç„¶å­˜å‚¨åœ¨<strong>å †åŒº</strong>æˆ–<strong>æ ˆåŒº</strong>ä¸­ï¼Œ<strong>ä»å†…å­˜åˆ†å¸ƒçš„è§’åº¦è®²ï¼Œå’Œæ™®é€šå˜é‡æ²¡æœ‰åŒºåˆ«ã€‚</strong>constä¿®é¥°çš„å˜é‡å¹¶éä¸å¯æ›´æ”¹çš„ï¼ŒC++æœ¬èº«å°±æä¾›äº†mutableå…³é”®å­—ï¼ˆè¿™ä¸ªå…³é”®å­—åœ¨Part3å°±ä¼šè®²çš„ï¼‰ç”¨æ¥ä¿®æ”¹constä¿®é¥°çš„å˜é‡ï¼Œä»æ±‡ç¼–çš„è§’åº¦è®²ï¼Œconstä¿®é¥°çš„å˜é‡ä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚</p>
</li>
</ol>
<h2 id="autoå…³é”®è¯çš„ä½¿ç”¨"><a href="#autoå…³é”®è¯çš„ä½¿ç”¨" class="headerlink" title="(**)autoå…³é”®è¯çš„ä½¿ç”¨"></a>(**)autoå…³é”®è¯çš„ä½¿ç”¨</h2><p>autoæ˜¯C++11æ–°åŠ å…¥çš„å…³é”®å­—ï¼Œå°±æ˜¯ä¸ºäº†ç®€åŒ–ä¸€äº›å†™æ³•ã€‚</p>
<p>ä¸ºäº†å­¦ä¹ autoçš„ç±»å‹æ¨æ–­ï¼Œæˆ‘ä½¿ç”¨ä¸€ä¸ªbooståº“æ¥ç¡®å®šå˜é‡çš„å…·ä½“ç±»å‹ã€‚booståº“å¾ˆå¤§ï¼Œå¯ä»¥é€‰æ‹©ç¼–è¯‘è‡ªå·±æƒ³è¦çš„æ¨¡å—ï¼Œæˆ‘å°±ç›´æ¥å…¨éƒ¨ç¼–è¯‘äº†ã€‚boostæ˜¯å¾ˆå¤æ‚çš„ï¼Œä¸æ˜¯å‡ å¥è¯èƒ½è¯´æ¸…æ¥šï¼Œè¦æ·±å…¥ç†è§£å¯ä»¥å»å®˜ç½‘å­¦ä¹ ã€‚</p>
<p>æ¼”ç¤º</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">auto</span> i = <span class="hljs-number">100</span>;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(i)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>æ¥è¯´ä¸€ä¸‹autoï¼Œæœ‰å¥½å‡ ä¸ªç‚¹éœ€è¦æ³¨æ„ï¼š</strong></p>
<p>**1.**autoåªèƒ½æ¨æ–­å‡ºç±»å‹ï¼Œå¼•ç”¨ä¸æ˜¯ç±»å‹ï¼Œæ‰€ä»¥autoæ— æ³•æ¨æ–­å‡ºå¼•ç”¨ï¼Œè¦ä½¿ç”¨å¼•ç”¨åªèƒ½è‡ªå·±åŠ å¼•ç”¨ç¬¦å·ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-keyword">auto</span>&amp; i2 = i;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(i2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//è¾“å‡ºç±»å‹int &amp;</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>**2.**autoå…³é”®å­—åœ¨æ¨æ–­å¼•ç”¨çš„ç±»å‹æ—¶ï¼šä¼šç›´æ¥å°†å¼•ç”¨æ›¿æ¢ä¸ºå¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚å…¶å®å¼•ç”¨ä¸€ç›´æ˜¯è¿™æ ·çš„ï¼Œå¼•ç”¨ä¸æ˜¯å¯¹è±¡ï¼Œä»»ä½•ä½¿ç”¨å¼•ç”¨çš„åœ°æ–¹éƒ½å¯ä»¥ç›´æ¥æ›¿æ¢æˆå¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span>&amp; refi = i;<br>	<span class="hljs-keyword">auto</span>&amp; i2 = i;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(i2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//int &amp;</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>3.<strong>autoå…³é”®å­—åœ¨æ¨æ–­ç±»å‹æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¼•ç”¨ç¬¦å·ï¼Œä¼šå¿½ç•¥å€¼ç±»å‹çš„constä¿®é¥°ï¼Œè€Œä¿ç•™ä¿®é¥°æŒ‡å‘å¯¹è±¡çš„constï¼Œå…¸å‹çš„å°±æ˜¯æŒ‡é’ˆã€‚</strong>å¯èƒ½æœ‰äº›ä¸å¥½ç†è§£ï¼Œçœ‹çœ‹ä»£ç å°±å¥½è¯´äº†ã€‚3å’Œ4çš„ä¸»è¦ä½œç”¨å¯¹è±¡å°±æ˜¯æŒ‡é’ˆ.</strong></p>
<p>ä¾‹å­1</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span>* <span class="hljs-type">const</span> pi = &amp;i;<span class="hljs-comment">//å‰è€…constä¿®é¥°çš„æ˜¯æŒ‡é’ˆpiä¿®é¥°çš„å€¼ï¼Œåè€…constä¿®é¥°çš„æ˜¯piï¼Œåè€…constä¼šè¢«å¿½ç•¥</span><br>	<span class="hljs-keyword">auto</span> pi2 = pi;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(pi2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//int const *=const int *</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä¾‹å­2</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-keyword">auto</span> i2 = i;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(i2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//int</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>**4.**autoå…³é”®å­—åœ¨æ¨æ–­ç±»å‹æ—¶ï¼Œå¦‚æœæœ‰äº†å¼•ç”¨ç¬¦å·ï¼Œé‚£ä¹ˆå€¼ç±»å‹çš„constå’Œä¿®é¥°æŒ‡å‘å¯¹è±¡çš„constéƒ½ä¼šä¿ç•™ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span>* <span class="hljs-type">const</span> pi = &amp;i;<br><br>	<span class="hljs-keyword">auto</span>&amp; pi2 = pi;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(pi2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//int const * const &amp;</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-keyword">auto</span>&amp; i2 = i;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(i2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//int const &amp;</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>å…¶å®3ï¼Œ4ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œå› ä¸ºåœ¨ä¼ é€’å€¼æ—¶ï¼Œä¿®æ”¹è¿™ä¸ªå€¼å¹¶ä¸ä¼šå¯¹åŸæœ‰çš„å€¼é€ æˆå½±å“ã€‚è€Œä¼ é€’å¼•ç”¨æ—¶ï¼Œä¿®æ”¹è¿™ä¸ªå€¼ä¼šç›´æ¥å¯¹åŸæœ‰çš„å€¼é€ æˆå½±å“ã€‚</strong></p>
<p>**5.**å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‰é¢åŠ ä¸Šconstï¼Œè¿™æ ·æ°¸è¿œéƒ½æœ‰constçš„å«ä¹‰ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;boost/type_index.hpp&gt;</span></span><br><br><span class="hljs-keyword">using</span> boost::typeindex::type_id_with_cvr;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> i2 = i;<br>	std:: cout &lt;&lt; <span class="hljs-built_in">type_id_with_cvr</span>&lt;<span class="hljs-keyword">decltype</span>(i2)&gt;().<span class="hljs-built_in">pretty_name</span>() &lt;&lt; std::endl;<span class="hljs-comment">//int const </span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol>
<li>autoä¸ä¼šå½±å“ç¼–è¯‘é€Ÿåº¦ï¼Œç”šè‡³ä¼šåŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚å› ä¸ºç¼–è¯‘å™¨åœ¨å¤„ç†XX a &#x3D; bæ—¶ï¼Œå½“XXæ˜¯ä¼ ç»Ÿç±»å‹æ—¶ï¼Œç¼–è¯‘æœŸéœ€è¦æ£€æŸ¥bçš„ç±»å‹æ˜¯å¦å¯ä»¥è½¬åŒ–ä¸ºXXã€‚å½“XXä¸ºautoæ—¶ï¼Œç¼–è¯‘æœŸå¯ä»¥æŒ‰ç…§bçš„ç±»å‹ç›´æ¥ç»™å®šå˜é‡açš„ç±»å‹ï¼Œæ‰€ä»¥æ•ˆç‡ç›¸å·®ä¸å¤§ï¼Œç”šè‡³åè€Œè¿˜æœ‰æå‡ã€‚</li>
<li>ï¼ˆ*ï¼‰æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œå°±æ˜¯autoä¸è¦æ»¥ç”¨ï¼Œå¯¹äºä¸€äº›è‡ªå·±ä¸æ˜ç¡®çš„åœ°æ–¹ä¸è¦ä¹±ç”¨autoï¼Œå¦åˆ™å¾ˆå¯èƒ½å‡ºç°äº‹ä¸æ„¿è¿çš„ç»“æœï¼Œä½¿ç”¨ç±»å‹åº”è¯¥å®‰å…¨ä¸ºå…ˆã€‚</li>
<li>ï¼ˆ*ï¼‰autoä¸»è¦ç”¨åœ¨ä¸æ¨¡æ¿ç›¸å…³çš„ä»£ç ä¸­ï¼Œä¸€äº›ç®€å•çš„å˜é‡ä½¿ç”¨æ¨¡æ¿å¸¸å¸¸å¯¼è‡´å¯è¯»æ€§ä¸‹é™ï¼Œç»éªŒä¸è¶³è¿˜ä¼šå¯¼è‡´å®‰å…¨æ€§é—®é¢˜ã€‚</li>
</ol>
<h2 id="é™æ€å˜é‡ï¼ŒæŒ‡é’ˆå’Œå¼•ç”¨"><a href="#é™æ€å˜é‡ï¼ŒæŒ‡é’ˆå’Œå¼•ç”¨" class="headerlink" title="(*)é™æ€å˜é‡ï¼ŒæŒ‡é’ˆå’Œå¼•ç”¨"></a>(*)é™æ€å˜é‡ï¼ŒæŒ‡é’ˆå’Œå¼•ç”¨</h2><p>å˜é‡çš„å­˜å‚¨ä½ç½®æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯é™æ€å˜é‡åŒºï¼Œæ ˆåŒºï¼Œå †åŒºã€‚</p>
<p>**1.**é™æ€å˜é‡åŒºåœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šåœ°å€ï¼Œå­˜å‚¨å…¨å±€å˜é‡ä¸é™æ€å˜é‡ã€‚</p>
<p>æ¼”ç¤º</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-type">unsigned</span> g_i = <span class="hljs-number">0</span>;<span class="hljs-comment">//å…¨å±€å˜é‡ï¼Œåœ¨ç¨‹åºç¼–è¯‘æ—¶å·²ç»åˆå§‹åŒ–</span><br><span class="hljs-function"><span class="hljs-type">unsigned</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> callCount = <span class="hljs-number">0</span>;<span class="hljs-comment">//è¿™è¡Œä»£ç åœ¨ç¼–è¯‘æ—¶å·²ç»åˆå§‹åŒ–ï¼Œç›´æ¥æ‰§è¡Œä¸‹ä¸€è¡Œ</span><br>	<span class="hljs-keyword">return</span> ++callCount;<span class="hljs-comment">//ç»Ÿè®¡å‡½æ•°è°ƒç”¨æ¬¡æ•°</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">test</span>();<br>	<span class="hljs-built_in">test</span>();<br>	<span class="hljs-type">unsigned</span> testFuncCallCount = <span class="hljs-built_in">test</span>();<br>	++g_i;<span class="hljs-comment">//ç¨‹åºè¿è¡Œæ—¶æ‰§è¡Œ</span><br>	std::cout &lt;&lt; testFuncCallCount &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>**2.**æŒ‡é’ˆéƒ½æ˜¯å­˜å‚¨åœ¨æ ˆä¸Šå’Œå †ä¸Šï¼Œä¸ç®¡åœ¨æ ˆä¸Šè¿˜æ˜¯å †ä¸Šï¼Œéƒ½ä¸€å®šæœ‰ä¸€ä¸ªåœ°å€ã€‚</p>
<p>æœ¬è´¨ä¸Šè¯´ï¼ŒæŒ‡é’ˆå’Œæ™®é€šå˜é‡æ²¡æœ‰åŒºåˆ«ã€‚</p>
<p>åœ¨32ä½ç³»ç»Ÿä¸­ï¼Œintå˜é‡å’ŒæŒ‡é’ˆéƒ½æ˜¯32ä½ã€‚æŒ‡é’ˆå¿…é¡»å’Œâ€œ&amp;â€ï¼Œâ€œ*â€è¿™ä¸¤ä¸ªç¬¦å·ä¸€èµ·ä½¿ç”¨æ‰æœ‰æ„ä¹‰ã€‚</p>
<p>&amp;aä»£è¡¨çš„aè¿™ä¸ªå˜é‡çš„åœ°å€ï¼Œaä»£è¡¨çš„aå¯¹åº”åœ°å€å­˜å‚¨çš„å€¼ï¼Œ*aä»£è¡¨å¯¹åº”åœ°å€å­˜å‚¨çš„å€¼ä½œä¸ºåœ°å€å¯¹åº”çš„å€¼ã€‚</p>
<p>æ‰€ä»¥æŒ‡é’ˆæ‰å¯ä»¥çµæ´»çš„æ“ä½œå†…å­˜ï¼Œä½†è¿™ä¹Ÿå¸¦æ¥äº†ä¸¥é‡çš„å‰¯ä½œç”¨ï¼Œæ¯”å¦‚æŒ‡é’ˆåŠ åŠ å‡å‡å°±å¯ä»¥æ“ä½œå†…å­˜ï¼Œæ‰€ä»¥å¼•ç”¨è¢«å‘æ˜äº†ï¼Œå¼•ç”¨å°±æ˜¯ä½œç”¨é˜‰å‰²çš„æŒ‡é’ˆï¼ˆå¯ä»¥è§†ä¸ºâ€œç±»å‹*constâ€ï¼Œæ‰€ä»¥å¼•ç”¨å¿…é¡»ä¸Šæ¥å°±èµ‹åˆå€¼ï¼Œä¸èƒ½è®¾ç½®ä¸ºç©ºï¼‰ï¼Œç¼–è¯‘å™¨ä¸å°†å…¶è§†ä½œå¯¹è±¡ï¼Œæ“ä½œå¼•ç”¨ç›¸å½“äºæ“ä½œå¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚ä¹Ÿå°±ä»æ ¹æœ¬æ˜¯æœç»äº†å¼•ç”¨ç¯¡æ”¹å†…å­˜çš„èƒ½åŠ›ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> i=<span class="hljs-number">20</span>;<br><span class="hljs-type">int</span>&amp; refI=i;<span class="hljs-comment">//ç±»ä¼¼äºint* const pi=&amp;i;</span><br></code></pre></td></tr></table></figure>

<h2 id="å·¦å€¼ï¼Œå³å€¼ï¼Œå·¦å€¼å¼•ç”¨ï¼Œå³å€¼å¼•ç”¨"><a href="#å·¦å€¼ï¼Œå³å€¼ï¼Œå·¦å€¼å¼•ç”¨ï¼Œå³å€¼å¼•ç”¨" class="headerlink" title="(**)å·¦å€¼ï¼Œå³å€¼ï¼Œå·¦å€¼å¼•ç”¨ï¼Œå³å€¼å¼•ç”¨"></a>(**)å·¦å€¼ï¼Œå³å€¼ï¼Œå·¦å€¼å¼•ç”¨ï¼Œå³å€¼å¼•ç”¨</h2><p><strong>1.å·¦å€¼å’Œå³å€¼</strong></p>
<p>C++ä»»ä½•ä¸€ä¸ªå¯¹è±¡è¦ä¹ˆæ˜¯å·¦å€¼ï¼Œè¦ä¹ˆæ˜¯å³å€¼ã€‚æ¯”å¦‚int i &#x3D; 10ï¼Œiå’Œ10éƒ½æ˜¯å¯¹è±¡</p>
<p><strong>å·¦å€¼ï¼š</strong>æ‹¥æœ‰åœ°å€å±æ€§çš„å¯¹è±¡å°±å«å·¦å€¼ï¼Œå·¦å€¼å¯ä»¥æ”¾åœ¨ç­‰å·å³è¾¹ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨ç­‰å·å·¦è¾¹</p>
<p><strong>å³å€¼ï¼š</strong>ä¸æ˜¯å·¦å€¼çš„å¯¹è±¡å°±æ˜¯å³å€¼ã€‚æ— æ³•æ“ä½œåœ°å€å±æ€§çš„å¯¹è±¡å°±æ˜¯å³å€¼ã€‚æ¯”å¦‚ä¸´æ—¶å¯¹è±¡ï¼Œå°±éƒ½æ˜¯å³å€¼ï¼Œä¸´æ—¶å¯¹è±¡çš„åœ°å€å±æ€§æ— æ³•ä½¿ç”¨ã€‚æ³¨æ„ï¼šå·¦å€¼ä¹Ÿå¯ä»¥æ”¾åœ¨â€œ&#x3D;â€å³é¢ï¼Œä½†å³å€¼ç»å¯¹ä¸å¯ä»¥æ”¾åœ¨ç­‰å·å·¦é¢</p>
<p>æ¼”ç¤º</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> i=<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> i2=i+<span class="hljs-number">1</span>;<span class="hljs-comment">//i+1ä¸ºä¸´æ—¶å¯¹è±¡ï¼Œæœ‰åœ°å€ä½†æ— æ³•ä½¿ç”¨åœ°å€</span><br>++iï¼›<span class="hljs-comment">//å·¦å€¼ i++ä¸ºå³å€¼</span><br></code></pre></td></tr></table></figure>

<p><strong>2.å¼•ç”¨çš„åˆ†ç±»</strong></p>
<p>(1) æ™®é€šå·¦å€¼å¼•ç”¨ï¼šå°±æ˜¯ä¸€ä¸ªå¯¹è±¡çš„åˆ«åï¼Œåªèƒ½ç»‘å®šå·¦å€¼ï¼Œæ— æ³•ç»‘å®šå¸¸é‡å¯¹è±¡ã€‚</p>
<p>(2) constå·¦å€¼å¼•ç”¨ï¼šå¯ä»¥å¯¹å¸¸é‡èµ·åˆ«åï¼Œå¯ä»¥ç»‘å®šå·¦å€¼å’Œå³å€¼</p>
<p>(3) åªèƒ½ç»‘å®šå³å€¼çš„å¼•ç”¨ã€‚</p>
<p>(4) ä¸‡èƒ½å¼•ç”¨</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> i=<span class="hljs-number">100</span>;<br><span class="hljs-type">int</span>&amp; refi=i;<span class="hljs-comment">//åªèƒ½ç»‘å®šå·¦å€¼</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span>&amp; i;<span class="hljs-comment">//ç»‘å®šå·¦å€¼</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span>&amp; (i+<span class="hljs-number">1</span>);<span class="hljs-comment">//ç»‘å®šå³å€¼</span><br><span class="hljs-type">int</span>&amp;&amp; rrefi=(i+<span class="hljs-number">1</span>);<span class="hljs-comment">//å³å€¼å¼•ç”¨</span><br><span class="hljs-type">int</span>&amp;&amp; rrefi=i++;<span class="hljs-comment">//å³å€¼å¼•ç”¨</span><br></code></pre></td></tr></table></figure>

<h2 id="moveå‡½æ•°ï¼Œä¸´æ—¶å¯¹è±¡"><a href="#moveå‡½æ•°ï¼Œä¸´æ—¶å¯¹è±¡" class="headerlink" title="(**)moveå‡½æ•°ï¼Œä¸´æ—¶å¯¹è±¡"></a>(**)moveå‡½æ•°ï¼Œä¸´æ—¶å¯¹è±¡</h2><p><strong>1.moveå‡½æ•°</strong></p>
<p>(1) å³å€¼çœ‹é‡å¯¹è±¡çš„å€¼è€Œä¸è€ƒè™‘åœ°å€ï¼Œmoveå‡½æ•°å¯ä»¥å¯¹ä¸€ä¸ªå·¦å€¼ä½¿ç”¨ï¼Œä½¿æ“ä½œç³»ç»Ÿä¸å†åœ¨æ„å…¶åœ°å€å±æ€§ï¼Œå°†å…¶å®Œå…¨è§†ä½œä¸€ä¸ªå³å€¼ã€‚</p>
<p>(2) moveå‡½æ•°è®©æ“ä½œçš„å¯¹è±¡å¤±å»äº†åœ°å€å±æ€§ï¼Œ<strong>æ‰€ä»¥æˆ‘ä»¬æœ‰ä¹‰åŠ¡ä¿è¯ä»¥åä¸å†ä½¿ç”¨è¯¥å˜é‡çš„åœ°å€å±æ€§ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸å†ä½¿ç”¨è¯¥å˜é‡ï¼Œå› ä¸ºå·¦å€¼å¯¹è±¡çš„åœ°å€æ˜¯å…¶ä½¿ç”¨æ—¶æ— æ³•ç»•è¿‡çš„å±æ€§ã€‚</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br><span class="hljs-type">int</span>&amp;&amp; rrefi=std::<span class="hljs-built_in">move</span>(i);<span class="hljs-comment">//std::move(i)æ•´ä½“æ˜¯ä¸ªå³å€¼ï¼Œièƒ½ç»§ç»­èµ‹å€¼</span><br></code></pre></td></tr></table></figure>

<p><strong>2.ä¸´æ—¶å¯¹è±¡</strong></p>
<p><strong>å³å€¼éƒ½æ˜¯ä¸ä½“ç°åœ°å€çš„å¯¹è±¡ã€‚é‚£ä¹ˆï¼Œè¿˜æœ‰ä»€ä¹ˆèƒ½æ¯”ä¸´æ—¶å¯¹è±¡æ›´åŠ æ²¡æœ‰åœ°å€å±æ€§å‘¢ï¼Ÿå³å€¼å¼•ç”¨ä¸»è¦è´Ÿè´£å¤„ç†çš„å°±æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚</strong></p>
<p>ç¨‹åºæ‰§è¡Œæ—¶ç”Ÿæˆçš„ä¸­é—´å¯¹è±¡å°±æ˜¯ä¸´æ—¶å¯¹è±¡ï¼Œæ³¨æ„ï¼Œæ‰€æœ‰çš„ä¸´æ—¶å¯¹è±¡éƒ½æ˜¯å³å€¼å¯¹è±¡ï¼Œå› ä¸ºä¸´æ—¶å¯¹è±¡äº§ç”Ÿåå¾ˆå¿«å°±å¯èƒ½è¢«é”€æ¯ï¼Œä½¿ç”¨çš„æ˜¯å®ƒçš„å€¼å±æ€§ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getI</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>;<span class="hljs-comment">//return çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œæ‰€æœ‰çš„ä¸´æ—¶å¯¹è±¡éƒ½æ˜¯å³å€¼</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">10</span>;<br>    <span class="hljs-type">int</span>&amp;&amp; rrefi=<span class="hljs-built_in">getI</span>();<span class="hljs-comment">//æ¥æ”¶ä¸åˆ°å°±ä¼šé”€æ¯</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="å¯è°ƒç”¨å¯¹è±¡"><a href="#å¯è°ƒç”¨å¯¹è±¡" class="headerlink" title="(**)å¯è°ƒç”¨å¯¹è±¡"></a>(**)å¯è°ƒç”¨å¯¹è±¡</h2><p>å¦‚æœä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨è°ƒç”¨è¿ç®—ç¬¦â€œ()â€ï¼Œ()é‡Œé¢å¯ä»¥æ”¾å‚æ•°ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯å¯è°ƒç”¨å¯¹è±¡ã€‚</p>
<p><strong>1.å‡½æ•°ï¼š</strong>å‡½æ•°è‡ªç„¶å¯ä»¥è°ƒç”¨()è¿ç®—ç¬¦ï¼Œæ˜¯æœ€å…¸å‹çš„å¯è°ƒç”¨å¯¹è±¡</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; i &lt;&lt; std::endl;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;hello world&quot;</span> &lt;&lt; std::endl;<br><br>&#125;<br><span class="hljs-keyword">using</span> pf_type = <span class="hljs-built_in">void</span>(*)(<span class="hljs-type">int</span>);<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myFunc</span><span class="hljs-params">(pf_type pf, <span class="hljs-type">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">pf</span>(i);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">myFunc</span>(test,<span class="hljs-number">200</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>2.ä»¿å‡½æ•°ï¼š</strong>å…·æœ‰operator()å‡½æ•°çš„ç±»å¯¹è±¡ï¼Œæ­¤æ—¶ç±»å¯¹è±¡å¯ä»¥å½“åšå‡½æ•°ä½¿ç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; i &lt;&lt; std::endl;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;void operator()(int i)&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Test t;<br>	<span class="hljs-built_in">t</span>(<span class="hljs-number">20</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>3.lambdaè¡¨è¾¾å¼</strong></p>
<p>å°±æ˜¯åŒ¿åå‡½æ•°ï¼Œæ™®é€šçš„å‡½æ•°åœ¨ä½¿ç”¨å‰éœ€è¦æ‰¾ä¸ªåœ°æ–¹å°†è¿™ä¸ªå‡½æ•°å®šä¹‰ï¼Œäºæ˜¯C++æä¾›äº†lambdaè¡¨è¾¾å¼ï¼Œéœ€è¦å‡½æ•°æ—¶ç›´æ¥åœ¨éœ€è¦çš„åœ°æ–¹å†™ä¸€ä¸ªlambdaè¡¨è¾¾å¼ï¼Œçœå»äº†å®šä¹‰å‡½æ•°çš„è¿‡ç¨‹ï¼Œå¢åŠ å¼€å‘æ•ˆç‡ã€‚</p>
<p><strong>æ³¨æ„ï¼šlambdaè¡¨è¾¾å¼å¾ˆé‡è¦ï¼Œ</strong>ç°ä»£C++ç¨‹åºä¸­ï¼Œlambdaè¡¨è¾¾å¼æ˜¯å¤§é‡ä½¿ç”¨çš„</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>	[i] (<span class="hljs-type">int</span> elem) &#123;<br>		std::cout &lt;&lt; i &lt;&lt; std::endl;<br>		std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;hello world&quot;</span> &lt;&lt; std::endl;<br>	&#125;(<span class="hljs-number">200</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>lambdaè¡¨è¾¾å¼çš„æ ¼å¼</strong>æœ€å°‘æ˜¯â€œ[] {}â€ï¼Œå®Œæ•´çš„æ ¼å¼ä¸ºâ€œ[] () -&gt;ret {}â€ã€‚</p>
<p>lambdaå„ç»„ä»¶ä»‹ç»</p>
<p>lambdaå„ä¸ªç»„ä»¶ä»‹ç»</p>
<p><strong>1.</strong>[]ä»£è¡¨æ•è·åˆ—è¡¨ï¼šè¡¨ç¤ºlambdaè¡¨è¾¾å¼å¯ä»¥è®¿é—®å‰æ–‡çš„å“ªäº›å˜é‡ã€‚</p>
<p>(1) []è¡¨ç¤ºä¸æ•è·ä»»ä½•å˜é‡ã€‚</p>
<p>(2) [&#x3D;]ï¼šè¡¨ç¤ºæŒ‰å€¼æ•è·æ‰€æœ‰å˜é‡ã€‚</p>
<p>(3) [&amp;]ï¼šè¡¨ç¤ºæŒ‰ç…§å¼•ç”¨æ•è·æ‰€æœ‰å˜é‡ã€‚</p>
<p>&#x3D;ï¼Œ&amp;ä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨ï¼Œæ¯”å¦‚</p>
<p>(4) [&#x3D;, &amp;i]ï¼šè¡¨ç¤ºå˜é‡iç”¨å¼•ç”¨ä¼ é€’ï¼Œé™¤içš„æ‰€æœ‰å˜é‡ç”¨å€¼ä¼ é€’ã€‚</p>
<p>(5) [&amp;, i]ï¼šè¡¨ç¤ºå˜é‡iç”¨å€¼ä¼ é€’ï¼Œé™¤içš„æ‰€æœ‰å˜é‡ç”¨å¼•ç”¨ä¼ é€’ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ•è·å•ç‹¬çš„å˜é‡</p>
<p>(6) [i]ï¼šè¡¨ç¤ºä»¥å€¼ä¼ é€’çš„å½¢å¼æ•è·i</p>
<p>(7) [&amp;i]ï¼šè¡¨ç¤ºä»¥å¼•ç”¨ä¼ é€’çš„æ–¹å¼æ•è·i</p>
<p>å•Šï¼Œpart1ç»“æŸï¼Œä¸‹å‘¨ä¸€å®šå‡å°‘åˆ’æ°´æ—¶é—´ï¼Œå¤šå¬è¯¾</p>
<h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><p>ç±»çš„æƒé™ä¿®é¥°ï¼šc++é€šè¿‡ <strong>publicã€protectedã€private</strong> ä¸‰ä¸ªå…³é”®å­—æ¥æ§åˆ¶æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºå…¬æœ‰çš„ã€å—ä¿æŠ¤çš„ã€ç§æœ‰çš„ï¼Œè¢«ç§°ä¸ºæˆå‘˜è®¿é—®é™å®šç¬¦ã€‚æ‰€è°“è®¿é—®æƒé™ï¼Œå°±æ˜¯ä½ èƒ½ä¸èƒ½ä½¿ç”¨è¯¥ç±»ä¸­çš„æˆå‘˜ã€‚</p>
<p>åœ¨ç±»çš„å†…éƒ¨ï¼ˆå®šä¹‰ç±»çš„ä»£ç å†…éƒ¨ï¼‰ï¼Œæ— è®ºæˆå‘˜è¢«å£°æ˜ä¸º publicã€protected è¿˜æ˜¯ privateï¼Œéƒ½æ˜¯å¯ä»¥äº’ç›¸è®¿é—®çš„ï¼Œæ²¡æœ‰è®¿é—®æƒé™çš„é™åˆ¶ã€‚åœ¨ç±»çš„å¤–éƒ¨ï¼ˆå®šä¹‰ç±»çš„ä»£ç ä¹‹å¤–ï¼‰ï¼Œåªèƒ½é€šè¿‡å¯¹è±¡è®¿é—®æˆå‘˜ï¼Œå¹¶ä¸”é€šè¿‡å¯¹è±¡åªèƒ½è®¿é—® public å±æ€§çš„æˆå‘˜ï¼Œä¸èƒ½è®¿é—® privateã€protected å±æ€§çš„æˆå‘˜ã€‚</p>
<h2 id="ç±»ä»‹ç»ï¼Œæ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°"><a href="#ç±»ä»‹ç»ï¼Œæ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°" class="headerlink" title="(*)ç±»ä»‹ç»ï¼Œæ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°"></a>(*)ç±»ä»‹ç»ï¼Œæ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°</h2><p><strong>1.ç±»ä»‹ç»ï¼š</strong></p>
<p>(1) å¯¹é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„ç†è§£</p>
<p>â‘  é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µã€‚</p>
<p>â‘¡ é¢å‘è¿‡ç¨‹æ˜¯æŒ‰ç…§è®¡ç®—æœºçš„å·¥ä½œé€»è¾‘æ¥ç¼–ç çš„æ–¹å¼ï¼Œæœ€å…¸å‹çš„é¢å‘è¿‡ç¨‹çš„è¯­è¨€å°±æ˜¯cè¯­è¨€äº†ï¼Œcè¯­è¨€ç›´æ¥å¯¹åº”æ±‡ç¼–ï¼Œæ±‡ç¼–åˆå¯¹åº”ç”µè·¯ã€‚</p>
<p>â‘¢ é¢å‘å¯¹è±¡åˆ™æ˜¯æŒ‰ç…§äººç±»çš„æ€ç»´æ¥ç¼–ç çš„ä¸€ç§æ–¹å¼ï¼ŒC++å°±å®Œå…¨æ”¯æŒé¢å‘å¯¹è±¡åŠŸèƒ½ï¼Œå¯ä»¥æŒ‰ç…§äººç±»çš„æ€ç»´æ¥å¤„ç†é—®é¢˜ã€‚</p>
<p>â‘£ ä¸¾ä¸ªä¾‹å­ï¼Œè¦æŠŠå¤§è±¡è£…å†°ç®±ï¼ŒæŒ‰ç…§äººç±»çš„æ€è·¯è‡ªç„¶æ˜¯åˆ†ä¸‰æ­¥ï¼Œæ‰“å¼€å†°ç®±ï¼Œå°†å¤§è±¡è£…è¿›å»ï¼Œå…³ä¸Šå†°ç®±ã€‚</p>
<p>è¦å®ç°è¿™ä¸‰æ­¥ï¼Œæˆ‘ä»¬å°±è¦é¦–å…ˆæœ‰äººï¼Œå†°ç®±è¿™ä¸¤ä¸ªå¯¹è±¡ã€‚äººæœ‰ç»™å†°ç®±å‘æŒ‡ä»¤çš„èƒ½	åŠ›ï¼Œå†°ç®±æœ‰èƒ½å¤Ÿæ¥å—æŒ‡ä»¤å¹¶æ‰“å¼€æˆ–å…³é—­é—¨çš„èƒ½åŠ›ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//c++</span><br><span class="hljs-meta">#inlcude<span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">IceChest</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openIceChest</span><span class="hljs-params">(<span class="hljs-type">const</span> IceChest&amp; iceChest)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <br>    &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">IceChest</span>:<br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openDoor</span><span class="hljs-params">()</span></span><br><span class="hljs-function">        </span>&#123;<br>            <br>        &#125;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">closeDoor</span><span class="hljs-params">()</span></span><br><span class="hljs-function">        </span>&#123;<br>        <br>        &#125;<br>&#125;;<br><span class="hljs-comment">//cè¯­è¨€</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Person</span><br>&#123;<br>    <br>&#125;;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">IceChest</span><br>&#123;<br>    <br>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">personOpenIceChest</span><span class="hljs-params">(<span class="hljs-type">const</span> Person&amp; person,<span class="hljs-type">const</span> IceChest&amp; iceChest)</span></span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">personCloseIceChest</span><span class="hljs-params">(<span class="hljs-type">const</span> Person&amp; person,<span class="hljs-type">const</span> IceChest&amp; iceChest)</span></span><br></code></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä»è®¡ç®—æœºçš„è§’åº¦è®²ï¼Œè®¡ç®—æœºåªèƒ½å®šä¹‰ä¸€ä¸ªå«åšäººå’Œå†°ç®±çš„ç»“æ„ä½“ã€‚äººæœ‰æ‰‹è¿™ä¸ªéƒ¨ä½ï¼Œå†°ç®±æœ‰é—¨è¿™ä¸ªéƒ¨ä½ã€‚ç„¶åä»å¤©è€Œé™ä¸€ä¸ªå‡½æ•°ï¼Œæ˜¯è¿™ä¸ªå‡½æ•°è®©æ‰‹æ‰“å¼€äº†å†°ç®±ï¼Œåˆæ˜¯å¦ä¸€ä¸ªå‡½æ•°è®©å¤§è±¡è¿›å»ï¼Œå†æ˜¯å¦ä¸€ä¸ªå‡½æ•°è®©å†°ç®±é—¨å…³ä¸Šã€‚</p>
<p> ä»å¼€å‘è€…çš„è§’åº¦è®²ï¼Œé¢å‘å¯¹è±¡æ˜¾ç„¶æ›´åˆ©äºç¨‹åºè®¾è®¡ã€‚ç”¨é¢å‘è¿‡ç¨‹çš„å¼€å‘æ–¹å¼ï¼Œç¨‹åºä¸€æ—¦å¤§äº†ï¼Œå„ç§ä»å¤©è€Œé™çš„å‡½æ•°ä¼šéå¸¸ç¹çï¼Œä¸€äº›ç”¨çº¯cå†™çš„å¤§å‹ç¨‹åºï¼Œå®é™…ä¸Šä¹Ÿæ˜¯æ¨¡æ‹Ÿäº†é¢å‘å¯¹è±¡çš„æ–¹å¼ã€‚</p>
<p> é‚£ä¹ˆï¼Œå¦‚ä½•ç”¨é¢å‘è¿‡ç¨‹çš„cè¯­è¨€æ¨¡æ‹Ÿå‡ºé¢å‘å¯¹è±¡çš„èƒ½åŠ›å‘¢ï¼Ÿç±»å°±è¯ç”Ÿäº†ï¼Œåœ¨ç±»ä¸­å¯ä»¥å®šä¹‰ä¸“å±äºç±»çš„å‡½æ•°ï¼Œè®©ç±»æœ‰äº†è‡ªå·±çš„åŠ¨ä½œã€‚å›åˆ°é‚£ä¸ªä¾‹å­ï¼Œäººçš„ç±»æœ‰äº†è®©å†°ç®±å¼€é—¨çš„èƒ½åŠ›ï¼Œå†°ç®±æœ‰äº†è®©äººæ‰“å¼€çš„èƒ½åŠ›ï¼Œä¸å†éœ€è¦å¤©é™ç¥ç§˜åŠ›é‡äº†ï¼Œhh</p>
<p> <strong>2.æ„é€ å‡½æ•°</strong></p>
<p> ç±»æ˜¯é€šè¿‡é¢å‘è¿‡ç¨‹çš„æœºå™¨å®ç°çš„ï¼Œç±»ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªæ–°ç±»å‹ï¼Œè¯¥ç±»å‹ç”Ÿæˆåœ¨å †æˆ–æ ˆä¸Šçš„å¯¹è±¡æ—¶å†…å­˜æ’å¸ƒå’Œcè¯­è¨€ç›¸åŒã€‚ä½†æ˜¯c++è§„å®šï¼Œ<strong>C++æœ‰åœ¨ç±»å¯¹è±¡åˆ›å»ºæ—¶å°±åœ¨å¯¹åº”å†…å­˜å°†æ•°æ®åˆå§‹åŒ–çš„èƒ½åŠ›</strong>ï¼Œè¿™å°±æ˜¯æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;isotream&gt;</span></span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CPPtest</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">CPPTest</span>(<span class="hljs-type">int</span> i_,<span class="hljs-type">int</span> i2_) :<span class="hljs-built_in">i</span>(i_),<span class="hljs-built_in">i2</span>(i2_)&#123;&#125;<span class="hljs-comment">//c++å¯ä»¥åœ¨ç±»ä¸­æ„é€ å‡½æ•°ï¼Œå°†å‚æ•°å¯¹åº”å†…å­˜åˆå§‹åŒ–;è‹¥æ²¡æœ‰ï¼Œåˆ™è‡ªåŠ¨ç”Ÿæˆï¼Œä½†æ˜¯æ²¡ä»€ä¹ˆç”¨</span><br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> i2;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-function">CPPtest <span class="hljs-title">cppTest</span><span class="hljs-params">(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)</span></span>;<span class="hljs-comment">//åˆå§‹åŒ–i,i2</span><br>    std::cout&lt;&lt;cppTest.i&lt;&lt;std::endl;<br>    std::cout&lt;&lt;cppTest.i2&lt;&lt;std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>æ„é€ å‡½æ•°æœ‰ä»¥ä¸‹ç±»å‹ã€‚</p>
<ol>
<li><p>æ™®é€šæ„é€ å‡½æ•°</p>
</li>
<li><p>å¤åˆ¶æ„é€ å‡½æ•°ï¼šç”¨å¦ä¸€ä¸ªå¯¹è±¡æ¥åˆå§‹åŒ–å¯¹è±¡å¯¹åº”çš„å†…å­˜</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">CPPTest</span>(<span class="hljs-type">const</span> CPPTest&amp; cppTest) :<span class="hljs-built_in">i</span>(cppTest.i), <span class="hljs-built_in">i2</span>(cppTest.i2)&#123;&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ç§»åŠ¨æ„é€ å‡½æ•°ï¼šä¹Ÿæ˜¯ç”¨å¦ä¸€ä¸ªå¯¹è±¡æ¥åˆå§‹åŒ–å¯¹è±¡ï¼Œå…·ä½“å†…å®¹ä¼šåœ¨Part3ç¬¬13èŠ‚è¯¦ç»†è®²è§£ã€‚</p>
</li>
<li><p>é»˜è®¤æ„é€ å‡½æ•°ï¼šå½“ç±»æ²¡æœ‰ä»»ä½•æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘æœŸä¼šä¸ºè¯¥ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„çš„æ„é€ å‡½æ•°ï¼Œåœ¨æœ€æ™®é€šçš„ç±»ä¸­ï¼Œé»˜è®¤æ„é€ å‡½æ•°ä»€ä¹ˆéƒ½æ²¡åšï¼Œå¯¹è±¡å¯¹åº”çš„å†…å­˜æ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚</p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">CPPTest</span>()&#123;&#125;;<span class="hljs-comment">//ä½œç”¨å’Œæ„é€ å‡½æ•°ä¸€æ ·</span><br></code></pre></td></tr></table></figure>

<p>æ„é€ å‡½æ•°å°±æ˜¯C++æä¾›çš„<strong>å¿…é¡»æœ‰çš„</strong>åœ¨å¯¹è±¡åˆ›å»ºæ—¶åˆå§‹åŒ–å¯¹è±¡çš„æ–¹æ³•ï¼Œï¼ˆé»˜è®¤çš„ä»€ä¹ˆéƒ½ä¸åšä¹Ÿæ˜¯ä¸€ç§åˆå§‹åŒ–çš„æ–¹å¼ï¼‰</p>
<p><strong>3.ææ„å‡½æ•°</strong></p>
<p>ä»‹ç»:</p>
<p>ç±»å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå°±ä¼šè°ƒç”¨ææ„å‡½æ•°ã€‚æ ˆä¸Šå¯¹è±¡çš„é”€æ¯æ—¶æœºå°±æ˜¯å‡½æ•°æ ˆé”€æ¯æ—¶,å †ä¸Šçš„å¯¹è±¡é”€æ¯æ—¶æœºå°±æ˜¯è¯¥å †å†…å­˜è¢«æ‰‹åŠ¨é‡Šæ”¾æ—¶ï¼Œå¦‚æœç”¨newç”³è¯·çš„è¿™å—å †å†…å­˜ï¼Œé‚£è°ƒç”¨deleteé”€æ¯è¿™å—å†…å­˜æ—¶å°±ä¼šè°ƒç”¨ææ„å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;isotream&gt;</span></span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CPPTest</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">CPPTest</span>(<span class="hljs-type">int</span> i_,<span class="hljs-type">int</span> i2_) :<span class="hljs-built_in">i</span>(i_),<span class="hljs-built_in">i2</span>(i2_)&#123;&#125;<br>    <span class="hljs-built_in">CPPTest</span>(<span class="hljs-type">const</span> CPPTest&amp; cppTest) :<span class="hljs-built_in">i</span>(cppTest.i), <span class="hljs-built_in">i2</span>(cppTest.i2)&#123;&#125;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> i2;<br>    ~<span class="hljs-built_in">CPPTest</span>()<span class="hljs-comment">//å¦‚æ²¡æœ‰ä¼šè‡ªåŠ¨æ·»åŠ </span><br>    &#123;<br>        <br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-function">CPPTest <span class="hljs-title">cppTest</span><span class="hljs-params">(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)</span></span>;<span class="hljs-comment">//åˆå§‹åŒ–i,i2</span><br>    std::cout&lt;&lt;cppTest.i&lt;&lt;std::endl;<br>    std::cout&lt;&lt;cppTest.i2&lt;&lt;std::endl;<br>    CPPTest* pCppTest=<span class="hljs-keyword">new</span> <span class="hljs-built_in">CppTest</span>(<span class="hljs-number">1.2</span>);<span class="hljs-comment">//è°ƒç”¨åœ¨å †ä¸Šï¼Œè‡ªåŠ¨é”€æ¯</span><br>    <span class="hljs-keyword">delete</span> PCppTest;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä½†æ˜¯å†æŸäº›æƒ…å†µä¸‹ï¼Œææ„å‡½æ•°å¿…é¡»è¦å¹²æ´»</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;isotream&gt;</span></span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CPPTest</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">CPPTest</span>(<span class="hljs-type">int</span> i_,<span class="hljs-type">int</span> i2_) :<span class="hljs-built_in">i</span>(i_),<span class="hljs-built_in">i2</span>(i2_),<span class="hljs-built_in">pi</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(i3))&#123;&#125;<br>    <span class="hljs-built_in">CPPTest</span>(<span class="hljs-type">const</span> CPPTest&amp; cppTest) :<span class="hljs-built_in">i</span>(cppTest.i), <span class="hljs-built_in">i2</span>(cppTest.i2),<span class="hljs-built_in">pi</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(*cppTest.pi))&#123;&#125;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> i2;<br>    <span class="hljs-type">int</span> *pi;<br>    ~<span class="hljs-built_in">CPPTest</span>()<br>    &#123;<br>        <span class="hljs-keyword">delete</span> pi;<br>    &#125;<span class="hljs-comment">//å½“æ ˆä¸ŠpiæŒ‡å‘å †ä¸Šçš„i3ï¼Œå¦‚æœææ„å‡½æ•°ä¸­æ²¡æœ‰deleteï¼Œé‚£ä¹ˆåªä¼šæŠŠæ ˆä¸Šçš„é‡Šæ”¾ï¼Œå †ä¸Šçš„æ•°æ®æ²¡æœ‰é‡Šæ”¾ï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼</span><br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼Œå½“ç±»å¯¹è±¡é”€æ¯æ—¶æœ‰ä¸€äº›æˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨æ“ä½œçš„æ­¥éª¤æ—¶ï¼Œææ„å‡½æ•°å°±æ´¾ä¸Šäº†ç”¨åœºã€‚æ‰€ä»¥ï¼Œå‡ ä¹æ‰€æœ‰çš„ç±»æˆ‘ä»¬éƒ½è¦å†™æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°å´æœªå¿…éœ€è¦</p>
<h2 id="this-å¸¸æˆå‘˜å‡½æ•°ä¸å¸¸å¯¹è±¡"><a href="#this-å¸¸æˆå‘˜å‡½æ•°ä¸å¸¸å¯¹è±¡" class="headerlink" title="(*)this,å¸¸æˆå‘˜å‡½æ•°ä¸å¸¸å¯¹è±¡"></a>(*)this,å¸¸æˆå‘˜å‡½æ•°ä¸å¸¸å¯¹è±¡</h2><p><strong>1.thiså…³é”®å­—ï¼š</strong></p>
<p>(1) thisæ˜¯ä»€ä¹ˆï¼š</p>
<p>â‘  ç¼–è¯‘å™¨å°†thisè§£é‡Šä¸ºæŒ‡å‘å‡½æ•°æ‰€ä½œç”¨çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œè¿™å¥è¯æ–°æ‰‹æœ‰äº›ä¸å¥½ç†è§£ï¼Œç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹å°±å¥½è¯´äº†ã€‚C++ç±»çš„æœ¬è´¨å°±æ˜¯Cè¯­è¨€çš„ç»“æ„ä½“å¤–åŠ å‡ ä¸ªç±»å¤–çš„å‡½æ•°ï¼ŒC++æœ€åéƒ½è¦è½¬åŒ–ä¸ºCè¯­è¨€æ¥å®ç°ï¼Œç±»å¤–çš„å‡½æ•°å°±æ˜¯é€šè¿‡thisæ¥æŒ‡å‘è¿™ä¸ªç±»çš„ã€‚</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br>clacc Test<br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>       <span class="hljs-built_in">Test</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">unsigned</span> old_);<br>       ~<span class="hljs-built_in">Test</span>();<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">output</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;name=&quot;</span>&lt;&lt;<span class="hljs-keyword">this</span>-&gt;name&lt;&lt;<span class="hljs-string">&quot;     old=&quot;</span>&lt;&lt;<span class="hljs-keyword">this</span>-&gt;old&lt;&lt;std::endl;<br>    &#125;<br>    <span class="hljs-keyword">private</span>:<br>       std::string name;<br>       <span class="hljs-type">unsigned</span> old;<br>&#125;;<br>Test::<span class="hljs-built_in">Test</span>(<span class="hljs-type">const</span> std::string&amp; name_,<span class="hljs-type">unsigned</span> old_):<span class="hljs-built_in">name</span>(name_),<span class="hljs-built_in">old</span>(old_)<br>&#123;<br>&#125;<br>Test::~<span class="hljs-built_in">Test</span>()<br>&#123;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">Test <span class="hljs-title">test</span><span class="hljs-params">(<span class="hljs-string">&quot;fanfan&quot;</span>,<span class="hljs-number">20</span>)</span></span>;<br>    test.<span class="hljs-built_in">outPut</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>â‘¡ å½“ç„¶ï¼Œè¿™ä¹ˆè¯´å¹¶éå®Œå…¨å‡†ç¡®ï¼Œthisæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œåªæ˜¯æˆ‘ä»¬å°†å®ƒå½“åšæŒ‡é’ˆç†è§£ç½¢äº†ã€‚</p>
<p> thisæœ‰å¾ˆå¤šåŠŸèƒ½æ˜¯å•çº¯çš„æŒ‡é’ˆæ— æ³•æ»¡è¶³çš„ã€‚æ¯”å¦‚æ¯ä¸ªç±»å‡½æ•°çš„å‚æ•°æ ¹æœ¬æ²¡æœ‰åå«thisçš„æŒ‡é’ˆã€‚è¿™ä¸è¿‡æ˜¯ç¼–è¯‘å™¨èµ‹äºˆçš„åŠŸèƒ½ç½¢äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br>clacc Test<br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>       <span class="hljs-built_in">Test</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">unsigned</span> old_);<br>       ~<span class="hljs-built_in">Test</span>();<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">output</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;name=&quot;</span>&lt;&lt;<span class="hljs-keyword">this</span>.name&lt;&lt;<span class="hljs-string">&quot;     old=&quot;</span>&lt;&lt;<span class="hljs-keyword">this</span>.old&lt;&lt;std::endl;<br>    &#125;<br>    <span class="hljs-keyword">private</span>:<br>       std::string name;<br>       <span class="hljs-type">unsigned</span> old;<br>&#125;;<br>Test::<span class="hljs-built_in">Test</span>(<span class="hljs-type">const</span> std::string&amp; name_,<span class="hljs-type">unsigned</span> old_):<span class="hljs-built_in">name</span>(name_),<span class="hljs-built_in">old</span>(old_)<br>&#123;<br>&#125;<br>Test::~<span class="hljs-built_in">Test</span>()<br>&#123;<br>&#125;<br><span class="hljs-built_in">void</span> (Test::* pf)()=&amp;Test::output;<span class="hljs-comment">//ç©ºå‚æ•°çš„æŒ‡é’ˆèƒ½æŒ‡å‘ç±»çš„æˆå‘˜å‡½æ•°ï¼Œè¯´æ˜ç±»ä¸­æ²¡æœ‰thisè¿™ä¸ªå½¢å‚å˜é‡</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">Test <span class="hljs-title">test</span><span class="hljs-params">(<span class="hljs-string">&quot;fanfan&quot;</span>,<span class="hljs-number">20</span>)</span></span>;<br>    (test.*pf)();<span class="hljs-comment">//ç»“æœä¸€æ ·</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>2.å¸¸æˆå‘˜å‡½æ•°å’Œå¸¸å¯¹è±¡</strong></p>
<p>æŸä½å¤§ä½¬è¯´ï¼šâ€œå¸¸æˆå‘˜å‡½æ•°å’Œå¸¸å¯¹è±¡å¾ˆå¤šäººå¹¶ä¸åœ¨æ„ï¼Œç¡®å®ï¼Œéƒ½å†™æ™®é€šå˜é‡ä¹Ÿå¯ä»¥ã€‚ä½†æ˜¯ï¼Œæˆ‘è¿˜æ˜¯è¦æä¸€ç‚¹ï¼Œåœ¨å¤§å‹ç¨‹åºä¸­ï¼Œå°½é‡åŠ ä¸Šconstå…³é”®å­—å¯ä»¥å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„é”™è¯¯ã€‚<strong>è¿™ä¸€ç‚¹ï¼Œå¼€å‘è¿‡å¤§å‹ç¨‹åºçš„äººåº”è¯¥æ·±æœ‰ä½“ä¼šï¼Œæ²¡å¼€å‘è¿‡å¤§å‹ç¨‹åºçš„äººä¹Ÿä¸å¿…åœ¨æ„ï¼Œè®°ä½å¤šç”¨constï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯</strong>ã€‚â€œ</p>
<p>(1) å¸¸æˆå‘˜å‡½æ•°å°±æ˜¯æ— æ³•ä¿®æ”¹æˆå‘˜å˜é‡çš„å‡½æ•°ã€‚å¯ä»¥ç†è§£ä¸ºå°†thisæŒ‡é’ˆæŒ‡å‘å¯¹è±¡ç”¨constä¿®é¥°çš„å‡½æ•°ã€‚(ä¾‹å­åœ¨æœ¬èŠ‚çš„ç¬¬ä¸€ä¸ªä»£ç æ¼”ç¤º)</p>
<p>å¸¸å¯¹è±¡å°±æ˜¯ç”¨constä¿®é¥°çš„å¯¹è±¡ï¼Œå®šä¹‰å¥½ä¹‹åå°±å†ä¹Ÿä¸éœ€è¦æ›´æ”¹æˆå‘˜å˜é‡çš„å€¼äº†ã€‚</p>
<p>(2) å¸¸æˆå‘˜å‡½æ•°æ³¨æ„äº‹é¡¹ï¼š</p>
<p>å› ä¸ºç±»çš„æˆå‘˜å‡½æ•°å·²ç»å°†thisæŒ‡é’ˆçœç•¥äº†ï¼Œåªèƒ½åœ¨å‡½æ•°åé¢åŠ constå…³é”®å­—æ¥å®ç°æ— æ³•ä¿®æ”¹ç±»æˆå‘˜å˜é‡çš„åŠŸèƒ½äº†</p>
<p>â‘  æ³¨æ„ï¼šå¸¸å‡½æ•°æ— æ³•è°ƒç”¨äº†æ™®é€šå‡½æ•°ï¼Œæ— æ„ä¹‰ã€‚</p>
<p><strong>â‘¡</strong> <strong>æˆå‘˜å‡½æ•°èƒ½å†™ä½œå¸¸æˆå‘˜å‡½æ•°å°±å°½é‡å†™ä½œå¸¸æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥å‡å°‘å‡ºé”™å‡ ç‡ã€‚</strong></p>
<p>â‘¢ åŒåçš„å¸¸æˆå‘˜å‡½æ•°å’Œæ™®é€šæˆå‘˜å‡½æ•°æ˜¯å¯ä»¥é‡è½½çš„ï¼Œå¸¸é‡å¯¹è±¡ä¼šä¼˜å…ˆè°ƒç”¨å¸¸æˆå‘˜å‡½æ•°ï¼Œæ™®é€šå¯¹è±¡ä¼šä¼˜å…ˆè°ƒç”¨æ™®é€šæˆå‘˜å‡½æ•°ã€‚</p>
<p>(3) å¸¸å¯¹è±¡æ³¨æ„äº‹é¡¹ï¼š</p>
<p>â‘  å¸¸å¯¹è±¡ä¸èƒ½è°ƒç”¨æ™®é€šå‡½æ•°</p>
<p>â‘¡ å¸¸å‡½æ•°åœ¨å¤§å‹ç¨‹åºä¸­çœŸçš„å¾ˆé‡è¦ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦åˆ›å»ºå¥½å°±ä¸å†æ”¹å˜çš„å¯¹è±¡</p>
<p><strong>å¤§ä½¬å¼ºè°ƒï¼šå¸¸å¯¹è±¡å’Œå¸¸å‡½æ•°è¦å¤šç”¨</strong></p>
<h2 id="inlineï¼Œmutableï¼Œdefaultï¼Œdelete"><a href="#inlineï¼Œmutableï¼Œdefaultï¼Œdelete" class="headerlink" title="inlineï¼Œmutableï¼Œdefaultï¼Œdelete"></a><strong>inlineï¼Œmutableï¼Œdefaultï¼Œdelete</strong></h2><p>inline,mutableçŸ¥é“å°±è¡Œï¼Œdefaultå’Œdeleteéœ€è¦æŒæ¡</p>
<p><strong>1.inlineå…³é”®å­—</strong></p>
<p>(1) inlineå…³é”®å­—çš„æœ‰ä»€ä¹ˆä½œç”¨ï¼š</p>
<p>â‘  åœ¨å‡½æ•°å£°æ˜æˆ–å®šä¹‰ä¸­å‡½æ•°è¿”å›ç±»å‹å‰åŠ ä¸Šå…³é”®å­—inlineå°±å¯ä»¥æŠŠå‡½æ•°æŒ‡å®šä¸º<strong>å†…è”å‡½æ•°</strong>ã€‚å…³é”®å­—inlineå¿…é¡»ä¸å‡½æ•°å®šä¹‰æ”¾åœ¨ä¸€èµ·æ‰èƒ½ä½¿å‡½æ•°æˆä¸ºå†…è”ï¼Œä»…ä»…å°†inlineæ”¾åœ¨å‡½æ•°å£°æ˜å‰ä¸èµ·ä»»ä½•ä½œç”¨ã€‚</p>
<p> â‘¡ å†…è”å‡½æ•°çš„ä½œç”¨ï¼Œæ™®é€šå‡½æ•°åœ¨è°ƒç”¨æ—¶éœ€è¦ç»™å‡½æ•°åˆ†é…æ ˆç©ºé—´ä»¥ä¾›å‡½æ•°æ‰§è¡Œï¼Œå‹æ ˆç­‰æ“ä½œä¼šå½±å“æˆå‘˜è¿è¡Œæ•ˆç‡ï¼Œäºæ˜¯C++æä¾›äº†<strong>å†…è”å‡½æ•°å°†å‡½æ•°ä½“æ”¾åˆ°éœ€è¦è°ƒç”¨å‡½æ•°çš„åœ°æ–¹</strong>ï¼Œç”¨ç©ºé—´æ¢æ•ˆç‡ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>  <span class="hljs-keyword">public</span>:  <br>    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">outPut</span><span class="hljs-params">()</span></span>;<span class="hljs-comment">//é»˜è®¤æœ‰inlineï¼Œåè¾¹çš„ä¸åŠ ï¼Œè¿™é‡ŒåŠ äº†ä¹Ÿæ˜¯æ— æ•ˆçš„</span><br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Test::outPut</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::cout&lt;&lt;<span class="hljs-string">&quot;hello world&quot;</span>&lt;&lt;std::endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    test.<span class="hljs-built_in">outPut</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p> (2) inlineå…³é”®å­—çš„æ³¨æ„äº‹é¡¹ï¼šinlineå…³é”®å­—åªæ˜¯ä¸€ä¸ªå»ºè®®ï¼Œå¼€å‘è€…å»ºè®®ç¼–è¯‘å™¨å°†æˆå‘˜å‡½æ•°å½“åšå†…è”å‡½æ•°ï¼Œä¸€èˆ¬é€‚åˆæå†…è”çš„æƒ…å†µç¼–è¯‘å™¨éƒ½ä¼šé‡‡çº³å»ºè®®ã€‚ï¼ˆç‰ºç‰²ç©ºé—´æ¢å–æ—¶é—´ï¼‰</p>
<p> (3) **æ€»ç»“:**ä½¿ç”¨inlineå…³é”®å­—å°±æ˜¯ä¸€ç§æé«˜æ•ˆç‡ï¼Œä½†åŠ å¤§ç¼–è¯‘åæ–‡ä»¶å¤§å°çš„æ–¹å¼ï¼Œç°åœ¨éšç€ç¡¬ä»¶æ€§èƒ½çš„æé«˜ï¼Œinlineå…³é”®å­—ç”¨çš„è¶Šæ¥è¶Šå°‘äº†ã€‚</p>
<p><strong>2.mutableå…³é”®å­—</strong></p>
<p>(1) mutableå…³é”®å­—çš„ä½œç”¨ï¼š</p>
<p>â‘  Mutableæ„ä¸ºå¯å˜çš„ï¼Œä¸constç›¸å¯¹ï¼Œè¢«mutableä¿®é¥°çš„æˆå‘˜å˜é‡ï¼Œæ°¸è¿œå¤„äºå¯å˜çš„çŠ¶æ€ï¼Œå³ä¾¿å¤„äºä¸€ä¸ªå¸¸å‡½æ•°ä¸­ï¼Œè¯¥å˜é‡ä¹Ÿå¯ä»¥è¢«æ›´æ”¹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>  <span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">outPut</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-keyword">mutable</span> <span class="hljs-type">unsigned</span> outPutCallCount=<span class="hljs-number">0</span>;<br>   &#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Test::outPut</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    ++outPutCallCount;<br>    std::cout&lt;&lt;<span class="hljs-string">&quot;hello world&quot;</span>&lt;&lt;std::endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    test.<span class="hljs-built_in">outPut</span>();<br>    std::cout&lt;&lt;test.outPutCallCount&lt;&lt;std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªå…³é”®å­—åœ¨ç°ä»£C++ä¸­ä½¿ç”¨æƒ…å†µå¹¶ä¸å¤šï¼Œä¸€èˆ¬æ¥è¯´åªæœ‰åœ¨ç»Ÿè®¡å‡½æ•°è°ƒç”¨æ¬¡æ•°æ—¶æ‰ä¼šç”¨åˆ°ã€‚</p>
<p> (2) mutableå…³é”®å­—çš„æ³¨æ„äº‹é¡¹</p>
<p>â‘  mutableæ˜¯ä¸€ç§ä¸‡ä¸å¾—å·²çš„å†™æ³•ï¼Œä¸€ä¸ªç¨‹åºä¸å¾—ä¸ä½¿ç”¨mutableå…³é”®å­—æ—¶ï¼Œå¯ä»¥è®¤ä¸ºè¿™éƒ¨åˆ†ç¨‹åºæ˜¯ä¸€ä¸ªç³Ÿç³•çš„è®¾è®¡ã€‚</p>
<p>â‘¡ mutableä¸èƒ½ä¿®é¥°<strong>é™æ€æˆå‘˜å˜é‡å’Œå¸¸æˆå‘˜å˜é‡</strong>ã€‚</p>
<p>(3) <strong>æ€»ç»“ï¼š</strong>mutableå…³é”®å­—æ˜¯ä¸€ç§æ²¡æœ‰åŠæ³•çš„åŠæ³•ï¼Œè®¾è®¡æ—¶åº”è¯¥å°½é‡é¿å…ï¼Œåªæœ‰åœ¨ç»Ÿè®¡å‡½æ•°è°ƒç”¨æ¬¡æ•°è¿™ç±»æƒ…å†µä¸‹æ‰æ¨èä½¿ç”¨ã€‚</p>
<p><strong>3.defaultå…³é”®å­—</strong></p>
<p>(1) defaultå…³é”®å­—çš„ä½œç”¨ï¼š</p>
<p>â‘  åœ¨ç¼–è¯‘æ—¶ä¸ä¼šç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°æ—¶ä¾¿äºä¹¦å†™ã€‚</p>
<p>â‘¡ ä¹Ÿå¯ä»¥å¯¹é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°ï¼Œé»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦å’Œé»˜è®¤çš„ææ„å‡½æ•°ä½¿ç”¨ï¼Œè¡¨ç¤ºä½¿ç”¨çš„æ˜¯ç³»ç»Ÿé»˜è®¤æä¾›çš„å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥ä½¿ä»£ç æ›´åŠ æ˜æ˜¾ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>	<span class="hljs-built_in">Test</span>(<span class="hljs-type">unsigned</span> old_):<span class="hljs-built_in">old</span>(old_)&#123;&#125;<br>    <span class="hljs-built_in">Test</span>() = <span class="hljs-keyword">default</span>;<span class="hljs-comment">//ä»¥å‰Test()&#123;&#125;</span><br>	<span class="hljs-built_in">Test</span>(<span class="hljs-type">const</span> Test&amp; test)=<span class="hljs-keyword">default</span>;<span class="hljs-comment">//ä½¿ç”¨ç³»ç»Ÿé»˜è®¤</span><br>    Test&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Test&amp; test)=<span class="hljs-keyword">default</span>;<br>    ~<span class="hljs-built_in">Test</span>()=<span class="hljs-keyword">default</span>;<br>	<span class="hljs-type">unsigned</span> old;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p><strong>â‘¢</strong> ç°ä»£C++ä¸­ï¼Œå“ªæ€•æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œä¹Ÿæ¨èå°†æ„é€ å‡½æ•°ç”¨defaultå…³é”®å­—æ ‡è®°ï¼Œå¯ä»¥è®©ä»£ç çœ‹èµ·æ¥æ›´åŠ ç›´è§‚ï¼Œæ–¹ä¾¿ã€‚</p>
<p>æ€»ç»“ï¼šdefaultå…³é”®å­—è¿˜æ˜¯æ¨èä½¿ç”¨çš„ï¼Œåœ¨ç°ä»£C++ä»£ç ä¸­ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ä¸€äº›é»˜è®¤çš„å‡½æ•°ï¼Œæ¨èç”¨defaultæ ‡è®°å‡ºæ¥ã€‚</p>
<p><strong>4.deleteå…³é”®å­—</strong></p>
<p>(1) Deleteå…³é”®å­—çš„ä½œç”¨ï¼šC++ä¼šä¸ºç¨‹åºç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°ï¼Œé»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°ï¼Œé»˜è®¤é‡è½½èµ‹å€¼è¿ç®—ç¬¦ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>	<span class="hljs-comment">//æ²¡æœ‰Test(unsigned old_):old(old_)&#123;&#125;ï¼Œè¿˜ä¸æƒ³é»˜è®¤ç”Ÿæˆ</span><br>    <span class="hljs-built_in">Test</span>()=<span class="hljs-keyword">delete</span>ï¼›<br>    <span class="hljs-comment">//Test&amp; operator=(const Test&amp; test)=default;ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ï¼Œä¸æƒ³ä½¿ç”¨å°±å°†defaultæ¢æˆdelete</span><br>    ~<span class="hljs-built_in">Test</span>()=<span class="hljs-keyword">default</span>;<span class="hljs-comment">//ä¸€èˆ¬ä¸ä¼šdelete</span><br>	<span class="hljs-type">unsigned</span> old;<br>&#125;;<br></code></pre></td></tr></table></figure>



<p> åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›è¿™äº›é»˜è®¤çš„å‡½æ•°è¢«ç”Ÿæˆï¼Œåœ¨C++11ä»¥å‰ï¼Œåªèƒ½æœ‰å°†æ­¤å‡½æ•°å£°æ˜ä¸ºç§æœ‰å‡½æ•°æˆ–æ˜¯å°†å‡½æ•°åªå£°æ˜ä¸å®šä¹‰ä¸¤ç§æ–¹å¼ã€‚</p>
<p> C++11äºæ˜¯æä¾›äº†deleteå…³é”®å­—ï¼Œåªè¦åœ¨å‡½æ•°æœ€ååŠ ä¸Šâ€œ&#x3D;deleteâ€å°±å¯ä»¥æ˜ç¡®å‘Šè¯‰ç¼–è¯‘æœŸä¸è¦é»˜è®¤ç”Ÿæˆè¯¥å‡½æ•°ã€‚</p>
<p> æ€»ç»“ï¼šdeleteå…³é”®å­—è¿˜æ˜¯æ¨èä½¿ç”¨çš„ï¼Œåœ¨ç°ä»£C++ä»£ç ä¸­ï¼Œå¦‚æœä¸å¸Œæœ›ä¸€äº›å‡½æ•°é»˜è®¤ç”Ÿæˆï¼Œå°±ç”¨deleteè¡¨ç¤ºï¼Œè¿™ä¸ªåŠŸèƒ½è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæ¯”å¦‚åœ¨å•ä¾‹æ¨¡å¼ä¸­ã€‚</p>
<h2 id="å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•°"><a href="#å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•°" class="headerlink" title="å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•°"></a>å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•°</h2><p>**1.**ä»‹ç»ï¼šå‹å…ƒå°±æ˜¯å¯ä»¥è®©å¦ä¸€ä¸ªç±»æˆ–å‡½æ•°è®¿é—®ç§æœ‰æˆå‘˜çš„ç®€å•å†™æ³•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test2</span>;<span class="hljs-comment">//å‹å…ƒç±»</span><br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-title">outPut</span><span class="hljs-params">(<span class="hljs-type">const</span> Test&amp; test)</span></span>;<span class="hljs-comment">//å‹å…ƒå‡½æ•°</span><br> <span class="hljs-keyword">private</span>:   <br>    std::string name;<br>    <span class="hljs-type">unsigned</span> old;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test2</span><br>&#123;<br> <span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">outPut</span><span class="hljs-params">(<span class="hljs-type">const</span> Test&amp; test)</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cont&lt;&lt;test.name&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>&lt;&lt;test.old&lt;&lt;std::endl;<span class="hljs-comment">//æ²¡æœ‰friendï¼Œç±»ä¸èƒ½è®¿é—®Testä¸­çš„å˜é‡</span><br>    &#125;<br>&#125;<br> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">outPut</span><span class="hljs-params">(<span class="hljs-type">const</span> Test&amp; test)</span><span class="hljs-comment">//ä¸Šæ¥å‹å…ƒå‡½æ•°</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cont&lt;&lt;test.name&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>&lt;&lt;test.old&lt;&lt;std::endl;<span class="hljs-comment">//æ²¡æœ‰friendï¼Œå‡½æ•°ä¸èƒ½è®¿é—®Testä¸­çš„å˜é‡</span><br>    &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <br>&#125;<br></code></pre></td></tr></table></figure>

<p> **2.**æ³¨æ„ï¼š</p>
<p>(1) å‹å…ƒä¼šç ´å<strong>å°è£…æ€§</strong>ï¼Œä¸€èˆ¬ä¸æ¨èä½¿ç”¨ï¼Œæ‰€å¸¦æ¥çš„æ–¹ä¾¿å†™å‡ ä¸ªæ¥å£å‡½æ•°å°±è§£å†³äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-function">std::string <span class="hljs-title">getName</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span>&#123;<span class="hljs-keyword">return</span> name;&#125;;<span class="hljs-comment">//</span><br>    <span class="hljs-function"><span class="hljs-type">unsigned</span> <span class="hljs-title">getOld</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span>&#123;<span class="hljs-keyword">return</span> old;&#125;;<span class="hljs-comment">//æ¥å£</span><br> <span class="hljs-keyword">private</span>:  <br>    std::string name;<br>    <span class="hljs-type">unsigned</span> old;<br>&#125;<span class="hljs-comment">//åŒæ ·æ•ˆæœ</span><br></code></pre></td></tr></table></figure>

<p><strong>(2)</strong> æŸäº›è¿ç®—ç¬¦çš„<strong>é‡è½½</strong>å¿…é¡»ç”¨åˆ°å‹å…ƒçš„åŠŸèƒ½ï¼Œè¿™æ‰æ˜¯å‹å…ƒçš„çœŸæ­£ç”¨é€”ã€‚</p>
<p> **3.**å¤§ä½¬è¯´ï¼šå‹å…ƒå¹³å¸¸å¹¶ä¸æ¨èä½¿ç”¨ï¼Œæ–°æ‰‹ä¸è¦å†çº ç»“å‹å…ƒçš„è¯­æ³•äº†ï¼Œåªè¦å¯ä»¥ç”¨å‹å…ƒå†™å‡ºå¿…é¡»ç”¨å‹å…ƒçš„é‡è½½è¿ç®—ç¬¦å°±å¯ä»¥äº†ã€‚</p>
<h2 id="é‡è½½è¿ç®—ç¬¦"><a href="#é‡è½½è¿ç®—ç¬¦" class="headerlink" title="(**)é‡è½½è¿ç®—ç¬¦"></a>(**)é‡è½½è¿ç®—ç¬¦</h2><p><strong>é‡è½½è¿ç®—ç¬¦åœ¨æ•´ä¸ªC++ä¸­æ‹¥æœ‰éå¸¸é‡è¦çš„åœ°ä½</strong></p>
<p><strong>1.é‡è½½è¿ç®—ç¬¦çš„ä½œç”¨ï¼š</strong></p>
<p>(1) å¾ˆå¤šæ—¶å€™æˆ‘ä»¬æƒ³è®©ç±»å¯¹è±¡ä¹Ÿèƒ½åƒåŸºç¡€ç±»å‹çš„å¯¹è±¡ä¸€æ ·è¿›è¡Œä½œåŸºç¡€æ“ä½œï¼Œæ¯”å¦‚â€œ+â€ï¼Œâ€œ-â€ï¼Œâ€œ*â€ï¼Œâ€œ\â€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æŸäº›è¿ç®—ç¬¦â€œ&#x3D;â€ï¼Œâ€œ()â€ï¼Œâ€œ[]â€,â€œ&lt;&lt;â€ï¼Œâ€œ&gt;&gt;â€ã€‚ä½†æ˜¯ä¸€èˆ¬çš„ç±»å³ä½¿ç¼–è¯‘å™¨å¯ä»¥è¯†åˆ«è¿™äº›è¿ç®—ç¬¦ï¼Œç±»å¯¹è±¡ä¹Ÿæ— æ³•å¯¹è¿™äº›è¿ç®—ç¬¦åšå‡ºåº”å¯¹ï¼Œæˆ‘ä»¬å¿…é¡»å¯¹ç±»å¯¹è±¡å®šä¹‰å¤„ç†è¿™äº›è¿ç®—ç¬¦çš„æ–¹å¼ã€‚</p>
<p>(2) C++æä¾›äº†å®šä¹‰è¿™äº›è¡Œä¸ºçš„æ–¹å¼ï¼Œå°±æ˜¯<strong>operator è¿ç®—ç¬¦</strong>æ¥å®šä¹‰è¿ç®—ç¬¦çš„è¡Œä¸ºï¼Œoperatoræ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘è¦é‡è½½è¿ç®—ç¬¦äº†ã€‚</p>
<p> <strong>2.æ³¨æ„ï¼š</strong></p>
<p>(1) æˆ‘ä»¬åªèƒ½é‡è½½C++å·²æœ‰çš„è¿ç®—ç¬¦ï¼Œæ‰€æœ‰æ— æ³•å°†â€œ<strong>â€è¿™ä¸ªè¿ç®—ç¬¦å®šä¹‰ä¸ºæŒ‡æ•°çš„å½¢å¼ï¼Œå› ä¸ºC++æ ¹æœ¬æ²¡æœ‰â€œ</strong>â€è¿™ä¸ªè¿ç®—ç¬¦ã€‚</p>
<p>(2) C++é‡è½½è¿ç®—ç¬¦ä¸èƒ½æ”¹å˜è¿ç®—ç¬¦çš„<strong>å…ƒæ•°</strong>ï¼Œâ€œå…ƒæ•°â€è¿™ä¸ªæ¦‚å¿µå°±æ˜¯æŒ‡ä¸€ä¸ªè¿ç®—ç¬¦å¯¹åº”çš„å¯¹è±¡æ•°é‡ï¼Œæ¯”å¦‚â€œ+â€å¿…é¡»ä¸ºâ€œa + bâ€ï¼Œä¹Ÿå°±æ˜¯è¯´â€œ+â€å¿…é¡»æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆâ€œ+â€å°±æ˜¯äºŒå…ƒè¿ç®—ç¬¦ã€‚æ¯”å¦‚â€œ++â€è¿ç®—ç¬¦ï¼Œå¿…é¡»å†™ä¸ºâ€œa++â€ï¼Œä¹Ÿå°±æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ã€‚</p>
<p> <strong>3.é‡è½½è¿ç®—ç¬¦ä¸¾ä¾‹</strong></p>
<p>(1) ä¸€å…ƒè¿ç®—ç¬¦é‡è½½</p>
<p>â‘  â€œ++â€ï¼Œâ€œâ€“â€</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iosteam&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">void</span> opterator++()<br>    &#123;<br>        ++count;<br>    &#125;<br>    <span class="hljs-type">void</span> opterator--()<br>    &#123;<br>        --count;<br>    &#125;<br>    <span class="hljs-type">unsigned</span> count = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    ++test;<br>    std::cout&lt;&lt;test.count&lt;&lt;std::endl;<br>    --test;<br>    std::cout&lt;&lt;test.count&lt;&lt;std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>â‘¡ â€œ[]â€</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iosteam&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span><span class="hljs-comment">//å®¹å™¨</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">int</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">unsigned</span> i)<span class="hljs-type">const</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(i&gt;<span class="hljs-number">0</span>&amp;&amp;i&lt;ivec.size)<br>            <span class="hljs-keyword">return</span> ivec[i];<br>    &#125;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; ivec&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    std::cout&lt;&lt;test[<span class="hljs-number">3</span>]&lt;&lt;std::endl;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>â‘¢ â€œ()â€</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iosteam&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;hello world&quot;</span>&lt;&lt;std::endl;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; str)</span><span class="hljs-type">const</span><span class="hljs-comment">//å¯ä»¥é‡è½½</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cout&lt;&lt;str&lt;&lt;std::endl;<br>    &#125;<br>    <br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    <span class="hljs-built_in">test</span>();<span class="hljs-comment">//è¾“å‡ºhello world</span><br>    <span class="hljs-built_in">test</span>(<span class="hljs-string">&quot;abcde&quot;</span>)<span class="hljs-comment">//è¾“å‡ºabcde</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>â‘£ â€œ&lt;&lt;â€ï¼Œâ€œ&gt;&gt;â€</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iosteam&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<span class="hljs-comment">//è®°ä½æ€ä¹ˆå†™</span><br>  <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt; (std::ostream&amp; os,<span class="hljs-type">const</span> Test&amp; test);<br>  <span class="hljs-keyword">friend</span> std::istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt; (std::istream&amp; os,Test&amp; test);<br>&#125;<br>std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt; (std::ostream&amp; os,<span class="hljs-type">const</span> Test&amp; test)<br>&#123;<br>    os&lt;&lt;test.name&lt;&lt;std::endl;<br>    <span class="hljs-keyword">return</span> os;<span class="hljs-comment">//è¿”å›ostreamçš„å¼•ç”¨</span><br>&#125;<br>std::istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt; (std::istream&amp; os,Test&amp; test)<br>&#123;<br>    is &gt;&gt;test.name;<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    std::cin&gt;&gt;test;<br>    std::cout&lt;&lt;test&lt;&lt;std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>(2) äºŒå…ƒè¿ç®—ç¬¦é‡è½½</p>
<p>â‘  â€œ+â€ï¼Œâ€œ-â€ï¼Œâ€œ*â€ï¼Œâ€œ&#x2F;â€</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iosteam&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    Test opreator+(<span class="hljs-type">const</span> Test&amp; test)<br>    &#123;<br>        count +=test.count;<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<br>    <span class="hljs-type">unsigned</span> count = <span class="hljs-number">0</span>;<br>    std::string name;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Test test;<br>    std::cout&lt;&lt;test.count&lt;&lt;std::endl;<span class="hljs-comment">//è¾“å‡º0</span><br>    Test test2;<br>    test2.count=<span class="hljs-number">20</span>;<br>    Test test3=+test2;<br>    std::test3&lt;&lt;test3.count&lt;&lt;std::endl;<span class="hljs-comment">//è¾“å‡º20</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>â‘¡ â€œ&#x3D;â€ï¼Œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iosteam&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    Test&amp; opreator=(<span class="hljs-type">const</span> Test&amp; test)<span class="hljs-comment">//ä½¿ç”¨å¼•ç”¨çš„åŸå› æ˜¯è¿”å›çš„è¿˜æ˜¯è‡ªå·±</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>==&amp;test)<span class="hljs-comment">//åœ°å€ç›¸åŒ</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>        &#125;<br>        count =test.count;<br>        name=test.name;<br>    &#125;<br>    <span class="hljs-comment">//Test&amp; opterator= (const Test&amp; test)=default é»˜è®¤é‡è½½</span><br>    <span class="hljs-type">unsigned</span> count = <span class="hljs-number">0</span>;<br>    std::string name;<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>ï¼›<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-built_in">main</span>()<br>&#123;<br>    Test test;<br>    Test test2;<br>    test=test2;<span class="hljs-comment">//è¿”å›æ˜¯æ˜¯è‡ªå·±ï¼Œæ‰€ä»¥è¦ç”¨å¼•ç”¨</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>â‘¢ â€œ&gt;â€ï¼Œâ€œ&lt;â€ï¼Œâ€œ&#x3D;&#x3D;â€</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt; (<span class="hljs-type">const</span> Test&amp; test)<br>&#123;<br>    <span class="hljs-keyword">return</span> count&lt;test.count;<br>&#125;<br></code></pre></td></tr></table></figure>

<p> è‡³äºå”¯ä¸€çš„ä¸‰å…ƒè¿ç®—ç¬¦â€œ?:â€ï¼Œä¸èƒ½é‡è½½</p>
<p>(3) ç±»ç±»å‹è½¬åŒ–è¿ç®—ç¬¦ï¼šâ€œoperator ç±»å‹â€</p>
<p>(4) ç‰¹æ®Šçš„è¿ç®—ç¬¦ï¼šnewï¼Œdeleteï¼Œnew[]ï¼Œdelete[]</p>
<p> æ³¨æ„ï¼šâ€œ&#x3D;â€ç±»ä¼šé»˜è®¤è¿›è¡Œé‡è½½ï¼Œå¦‚æœä¸éœ€è¦å¯ä»¥ç”¨â€œdeleteå…³é”®å­—è¿›è¡Œä¿®é¥°â€ã€‚</p>
<p> <strong>æ€»ç»“ï¼šé‡è½½è¿ç®—ç¬¦éå¸¸é‡è¦ï¼ŒC++ç±»ä¸­å‡ ä¹éƒ½è¦å®šä¹‰å„ç§å„ç§çš„é‡è½½è¿ç®—ç¬¦ã€‚</strong></p>
<h2 id="æ™®é€šç»§æ‰¿åŠå…¶å®ç°åŸç†"><a href="#æ™®é€šç»§æ‰¿åŠå…¶å®ç°åŸç†" class="headerlink" title="(*)æ™®é€šç»§æ‰¿åŠå…¶å®ç°åŸç†"></a>(*)æ™®é€šç»§æ‰¿åŠå…¶å®ç°åŸç†</h2><p><strong>C++é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ï¼šåˆ†è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ã€‚åˆ†è£…å°±æ˜¯ç±»çš„æƒé™ç®¡ç†ï¼Œå¾ˆç®€å•ï¼Œå°±ä¸è®²äº†ã€‚ç»§æ‰¿è¿™èŠ‚è¯¾è®²ï¼Œç»§æ‰¿å¾ˆé‡è¦ï¼Œæœ‰äº›åœ°æ–¹ä¹Ÿæ˜¯éœ€è¦é‡ç‚¹ç†è§£çš„ã€‚</strong></p>
<p> **1.**C++ç»§æ‰¿ä»‹ç»ï¼šC++éç»§æ‰¿çš„ç±»ç›¸äº’æ˜¯æ²¡æœ‰å…³è”æ€§çš„ï¼Œå‡è®¾ç°åœ¨éœ€è¦è®¾è®¡åŒ»ç”Ÿï¼Œæ•™å¸ˆï¼Œå…¬åŠ¡å‘˜ä¸‰ä¸ªç±»ï¼Œéœ€è¦å®šä¹‰å¾ˆå¤šé‡å¤çš„å†…å®¹è€Œä¸”ç›¸äº’æ²¡æœ‰å…³è”ï¼Œè°ƒç”¨ä¹Ÿæ²¡æœ‰è§„å¾‹ã€‚å¦‚æœè¿™è¿˜ç®—å¥½ï¼Œé‚£ä¸€ä¸ªæ¸¸æˆæœ‰å‡ åƒä»¶ç‰©å“ï¼Œè°ƒç”¨æ—¶ä¹Ÿè¦å†™å‡ åƒä¸ªå‡½æ•°ã€‚è¿™å¤ªè¦å‘½äº†ã€‚äºæ˜¯ç»§æ‰¿èƒ½åŠ›å°±åº”è¿è€Œç”Ÿäº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-comment">//class FireSpearéº»çƒ¦</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//   std::string name;</span><br><span class="hljs-comment">//    std::string icon;</span><br><span class="hljs-comment">//&#125;;</span><br><span class="hljs-comment">//class IceSpear</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//   std::string name;</span><br><span class="hljs-comment">//   std::string icon;</span><br><span class="hljs-comment">//&#125;;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Spear</span><span class="hljs-comment">//çˆ¶ç±»</span><br>&#123;<br>    <span class="hljs-keyword">protected</span>:<span class="hljs-comment">//å¤–ç•Œæ— æ³•è®¿é—®ã€‚ä½†æ˜¯å­ç±»ç»§æ‰¿åˆ°ï¼Œå¯ä»¥è®¿é—®</span><br>        std::string name;<br>        std::string icon;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Spear</span>(<span class="hljs-type">const</span> std::string&amp; name_,<span class="hljs-type">const</span> std:: string&amp; icon_):<span class="hljs-built_in">name</span>(name_),<span class="hljs-built_in">icon</span>(icon_)<br>    &#123;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;Spear()&quot;</span>&lt;&lt;std::endl;<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FireSpear</span>: <span class="hljs-keyword">public</span> Spear<br>&#123;<br>   <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">FireSpear</span>(<span class="hljs-type">const</span> std::string&amp; name_,<span class="hljs-type">const</span> std:: string&amp; icon_,<span class="hljs-type">int</span> i_):<span class="hljs-built_in">Spear</span>(name_,icon_),<span class="hljs-built_in">i</span>(i)<br>    &#123;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;FireSpear()&quot;</span>&lt;&lt;std::endl;<br>    &#125;<span class="hljs-comment">//å…ˆåˆå§‹åŒ–çˆ¶ç±»çš„éƒ¨åˆ†ï¼Œåœ¨åˆå§‹åŒ–å­ç±»çš„éƒ¨åˆ†</span><br>    <span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> i;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">IceSpear</span>: <span class="hljs-keyword">public</span> Spear<br>&#123;<br>    <br>&#125;;<br></code></pre></td></tr></table></figure>

<p>**2.**C++ç»§æ‰¿åŸç†ï¼šC++çš„ç»§æ‰¿å¯ä»¥ç†è§£ä¸ºåœ¨åˆ›å»ºå­ç±»æˆå‘˜å˜é‡ä¹‹å‰å…ˆåˆ›å»ºçˆ¶ç±»çš„æˆå‘˜å˜é‡ï¼Œå®é™…ä¸Šï¼ŒCè¯­è¨€å°±æ˜¯è¿™ä¹ˆæ¨¡ä»¿å‡ºç»§æ‰¿åŠŸèƒ½çš„ã€‚</p>
<p>**3.**C++ç»§æ‰¿çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<p>(1) C++å­ç±»å¯¹è±¡çš„æ„é€ è¿‡ç¨‹ã€‚å…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨å­ç±»çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆåˆå§‹åŒ–çˆ¶ç±»çš„æˆå‘˜ï¼Œå†åˆå§‹åŒ–å­ç±»çš„æˆå‘˜ã€‚</p>
<p>(2) è‹¥çˆ¶ç±»æ²¡æœ‰é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œå­ç±»çš„æ„é€ å‡½æ•°åˆæœªè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œåˆ™æ— æ³•ç¼–è¯‘ã€‚</p>
<p>(3) C++å­ç±»å¯¹è±¡çš„ææ„è¿‡ç¨‹ã€‚å…ˆè°ƒç”¨å­ç±»çš„ææ„å‡½æ•°ï¼Œå†è°ƒç”¨çˆ¶ç±»çš„ææ„å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Spear</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Spear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_) :<span class="hljs-built_in">name</span>(name_), <span class="hljs-built_in">icon</span>(icon_)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Spear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	~<span class="hljs-built_in">Spear</span>()<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;~Spear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	 <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Spear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">protected</span>:<br>	std::string name;<br>	std::string icon;<br><br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FireSpear</span> :<span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">FireSpear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_, <span class="hljs-type">int</span> i_) :<span class="hljs-built_in">Spear</span>(name_, icon_), <span class="hljs-built_in">i</span>(i)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;FireSpear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	~<span class="hljs-built_in">FireSpear</span>()<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;~FireSpear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> i;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">IceSpear</span>: <span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;IceSpear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">(<span class="hljs-type">const</span> Spear* pSpear)</span></span><br><span class="hljs-function"></span>&#123;<br>	pSpear-&gt;<span class="hljs-built_in">openFire</span>();<br>	<span class="hljs-keyword">delete</span> pSpear;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">FireSpear <span class="hljs-title">fireSpear</span><span class="hljs-params">(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;sad&quot;</span>, <span class="hljs-number">9</span>)</span></span>;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-------------------&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-built_in">openFire</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">FireSpear</span>(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;love&quot;</span>, <span class="hljs-number">10</span>));<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-------------------&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">Spear()<br>FireSpear()<br>-------------------<br>Spear()<br>FireSpear()<br>Spear::openFire<br>~Spear()<br>-------------------<br>~FireSpear()<br>~Spear()<br></code></pre></td></tr></table></figure>



<p>æ€»ç»“ï¼šé¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§çš„ç»§æ‰¿å°±è¿™ä¹ˆç®€å•ï¼Œå¾ˆå¤šäººè§‰å¾—ç±»ç»§æ‰¿å¾ˆå¤æ‚ï¼Œå…¶å®å®Œå…¨ä¸æ˜¯è¿™æ ·çš„ï¼Œåªè¦æ˜ç™½å­ç±»åœ¨å†…å­˜ä¸Šå…¶å®å°±ç›¸å½“äºæŠŠçˆ¶ç±»çš„æˆå‘˜å˜é‡æ”¾åœ¨å­ç±»çš„æˆå‘˜å˜é‡å‰é¢ç½¢äº†ã€‚æ„é€ å’Œææ„è¿‡ç¨‹ä¹Ÿæ˜¯ä¸ºäº†è¿™ä¸ªæœºåˆ¶è€Œè®¾è®¡çš„ã€‚</p>
<h2 id="è™šå‡½æ•°åŠå…¶å®ç°åŸç†ï¼Œoverride-å…³é”®å­—"><a href="#è™šå‡½æ•°åŠå…¶å®ç°åŸç†ï¼Œoverride-å…³é”®å­—" class="headerlink" title="(**)è™šå‡½æ•°åŠå…¶å®ç°åŸç†ï¼Œoverride å…³é”®å­—"></a>(**)è™šå‡½æ•°åŠå…¶å®ç°åŸç†ï¼Œoverride å…³é”®å­—</h2><p><strong>1.è™šå‡½æ•°ä»‹ç»ï¼š</strong></p>
<p>(1) è™šå‡½æ•°å°±æ˜¯é¢å‘å¯¹è±¡çš„ç¬¬ä¸‰å¤§ç‰¹ç‚¹ï¼š<strong>å¤šæ€</strong>ã€‚å¤šæ€éå¸¸çš„é‡è¦ï¼Œå®ƒå®Œç¾è§£å†³äº†ä¸Šä¸€è¯¾è®¾è®¡æ¸¸æˆè£…å¤‡ç±»çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åªè®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å‚æ•°æ˜¯åŸºç±»æŒ‡é’ˆï¼Œå°±å¯ä»¥è°ƒç”¨å­ç±»çš„åŠŸèƒ½ã€‚æ¯”å¦‚å°„å‡»æ¸¸æˆï¼Œæ‰€æœ‰çš„æªéƒ½ç»§æ‰¿è‡ªä¸€ä¸ªæªçš„åŸºç±»ï¼Œäººç±»åªè¦æœ‰ä¸€ä¸ªå¼€æªçš„å‡½æ•°å°±å¯ä»¥å®ç°æ‰€æœ‰æªæ‰“å‡ºä¸åŒçš„å­å¼¹ã€‚</p>
<p>(2) çˆ¶ç±»æŒ‡é’ˆå¯ä»¥æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œè¿™ä¸ªæ˜¯è‡ªç„¶è€Œç„¶çš„ï¼Œ<strong>å› ä¸ºå­ç±»å¯¹è±¡çš„å†…å­˜å‰é¢å°±æ˜¯çˆ¶ç±»æˆå‘˜ï¼Œç±»å‹å®Œå…¨åŒ¹é…ã€‚</strong></p>
<p>(3) å½“çˆ¶ç±»æŒ‡é’ˆæŒ‡å‘å­ç±»å¯¹è±¡ï¼Œä¸”å­ç±»é‡å†™çˆ¶ç±»æŸä¸€å‡½æ•°æ—¶ã€‚çˆ¶ç±»æŒ‡é’ˆè°ƒç”¨è¯¥å‡½æ•°ï¼Œå°±ä¼šäº§ç”Ÿä»¥ä¸‹çš„å¯èƒ½</p>
<p><strong>â‘ </strong> <strong>è¯¥å‡½æ•°ä¸ºè™šå‡½æ•°ï¼šçˆ¶ç±»æŒ‡é’ˆè°ƒç”¨çš„æ˜¯å­ç±»çš„æˆå‘˜å‡½æ•°ã€‚</strong></p>
<p><strong>â‘¡</strong> <strong>è¯¥å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼šçˆ¶ç±»æŒ‡é’ˆè°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„æˆå‘˜å‡½æ•°ã€‚</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Spear</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Spear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_) :<span class="hljs-built_in">name</span>(name_), <span class="hljs-built_in">icon</span>(icon_)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Spear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	~<span class="hljs-built_in">Spear</span>()<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;~Spear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	 <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span><span class="hljs-comment">//</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Spear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">protected</span>:<br>	std::string name;<br>	std::string icon;<br><br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FireSpear</span> :<span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">FireSpear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_, <span class="hljs-type">int</span> i_) :<span class="hljs-built_in">Spear</span>(name_, icon_), <span class="hljs-built_in">i</span>(i)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;FireSpear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	<span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">FireSpear</span>()<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;~FireSpear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span> <span class="hljs-keyword">override</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;FireSpear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> i;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">IceSpear</span>: <span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span><span class="hljs-comment">//åŠ äº†virtualåŠ¨æ€ç»‘å®š</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;IceSpear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">(<span class="hljs-type">const</span> Spear* pSpear)</span></span><br><span class="hljs-function"></span>&#123;<br>	pSpear-&gt;<span class="hljs-built_in">openFire</span>();<br>	<span class="hljs-keyword">delete</span> pSpear;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">FireSpear <span class="hljs-title">fireSpear</span><span class="hljs-params">(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;sad&quot;</span>, <span class="hljs-number">9</span>)</span></span>;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-------------------&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-built_in">openFire</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">FireSpear</span>(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;love&quot;</span>, <span class="hljs-number">10</span>));<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-------------------&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">Spear()<br>FireSpear()<br>-------------------<br>Spear()<br>FireSpear()<br>FireSpear::openFire<br>~Spear()<br>-------------------<br>~FireSpear()<br>~Spear()<br></code></pre></td></tr></table></figure>



<p>**2.**è™šå‡½æ•°çš„æ³¨æ„äº‹é¡¹ï¼š</p>
<p>(1) å­çˆ¶ç±»çš„è™šå‡½æ•°å¿…é¡»å®Œå…¨ç›¸åŒï¼Œä¸ºäº†é˜²æ­¢å¼€å‘äººå‘˜ä¸€ä¸å°å¿ƒå°†å‡½æ•°å†™é”™ï¼Œäºæ˜¯C++11æ·»åŠ äº†overrideå…³é”®å­—ã€‚</p>
<p><strong>(2)</strong> <strong>çˆ¶ç±»çš„ææ„å‡½æ•°å¿…é¡»ä¸ºè™šå‡½æ•°ï¼šå½“çˆ¶ç±»å¯¹è±¡æŒ‡å‘å­ç±»å¯¹è±¡æ—¶ï¼Œå®¹æ˜“ä½¿ç‹¬å±äºå­ç±»çš„å†…å­˜æ³„éœ²ã€‚ä¼šé€ æˆå†…å­˜æ³„éœ²çš„ä¸¥é‡é—®é¢˜ã€‚</strong></p>
<p>**3.**overideå…³é”®å­—çš„ä½œç”¨ï¼šå‰é¢å·²ç»è¯´è¿‡äº†ï¼Œä¸ºäº†é˜²æ­¢å¼€å‘äººå‘˜å°†å‡½æ•°åå†™é”™äº†ï¼ŒåŠ å…¥äº†overrideå…³é”®å­—ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Spear</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Spear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_) :<span class="hljs-built_in">name</span>(name_), <span class="hljs-built_in">icon</span>(icon_)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Spear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	~<span class="hljs-built_in">Spear</span>()<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;~Spear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	 <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span><span class="hljs-comment">//</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Spear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">protected</span>:<br>	std::string name;<br>	std::string icon;<br><br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FireSpear</span> :<span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">FireSpear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_, <span class="hljs-type">int</span> i_) :<span class="hljs-built_in">Spear</span>(name_, icon_), <span class="hljs-built_in">i</span>(i)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;FireSpear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	<span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">FireSpear</span>()<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;~FireSpear()&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span> <span class="hljs-keyword">override</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;FireSpear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> i;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">IceSpear</span>: <span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span><span class="hljs-comment">//åŠ äº†virtualåŠ¨æ€ç»‘å®š</span></span><br><span class="hljs-function">	</span>&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;IceSpear::openFire&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">(<span class="hljs-type">const</span> Spear* pSpear)</span></span><br><span class="hljs-function"></span>&#123;<br>	pSpear-&gt;<span class="hljs-built_in">openFire</span>();<br>	<span class="hljs-keyword">delete</span> pSpear;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">FireSpear <span class="hljs-title">fireSpear</span><span class="hljs-params">(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;sad&quot;</span>, <span class="hljs-number">9</span>)</span></span>;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-------------------&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-built_in">openFire</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">FireSpear</span>(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;love&quot;</span>, <span class="hljs-number">10</span>));<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-------------------&quot;</span> &lt;&lt; std::endl;<br>	Spear* pSpear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">FireSpear</span>(<span class="hljs-string">&quot;fanfan&quot;</span>, <span class="hljs-string">&quot;happy&quot;</span>, <span class="hljs-number">11</span>);<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;-----------------&quot;</span> &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">Spear()<br>FireSpear()<br>-------------------<br>Spear()<br>FireSpear()<br>FireSpear::openFire<br>~Spear()<br>-------------------<br>Spear()<br>FireSpear()<br>-----------------<br>~FireSpear()<br>~Spear()<br><br></code></pre></td></tr></table></figure>



<p><strong>4.</strong> <strong>è™šå‡½æ•°å®ç°å¤šæ€çš„åŸç†ä»‹ç»</strong></p>
<p>(1) åŠ¨æ€ç»‘å®šå’Œé™æ€ç»‘å®šï¼š</p>
<p>â‘  é™æ€ç»‘å®šï¼šç¨‹åºåœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šäº†å‡½æ•°çš„åœ°å€ï¼Œæ¯”å¦‚éè™šå‡½æ•°å°±æ˜¯é™æ€ç»‘å®šã€‚</p>
<p>â‘¡ åŠ¨æ€ç»‘å®šï¼šç¨‹åºåœ¨ç¼–è¯‘æ—¶ç¡®å®šçš„æ˜¯ç¨‹åºå¯»æ‰¾å‡½æ•°åœ°å€çš„æ–¹æ³•ï¼Œåªæœ‰åœ¨ç¨‹åºè¿è¡Œæ—¶æ‰å¯ä»¥çœŸæ­£ç¡®å®šç¨‹åºçš„åœ°å€ï¼Œæ¯”å¦‚è™šå‡½æ•°å°±æ˜¯åŠ¨æ€ç»‘å®šã€‚</p>
<p>(2) è™šå‡½æ•°æ˜¯å¦‚ä½•å®ç°åŠ¨æ€ç»‘å®šçš„å‘¢ï¼Ÿ</p>
<p>â‘  æ¯ä¸ªæœ‰è™šå‡½æ•°çš„ç±»éƒ½ä¼šæœ‰ä¸€ä¸ª<strong>è™šå‡½æ•°è¡¨</strong>ï¼Œå¯¹è±¡å…¶å®å°±æ˜¯æŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼Œç¼–è¯‘æ—¶ç¼–è¯‘å™¨åªå‘Šè¯‰äº†ç¨‹åºä¼šåœ¨è¿è¡Œæ—¶æŸ¥æ‰¾è™šå‡½æ•°è¡¨çš„å¯¹åº”å‡½æ•°ã€‚<strong>æ¯ä¸ªç±»éƒ½ä¼šæœ‰è‡ªå·±çš„è™šå‡½æ•°è¡¨ï¼Œæ‰€ä»¥å½“çˆ¶ç±»æŒ‡é’ˆå¼•ç”¨çš„æ˜¯å­ç±»è™šå‡½æ•°è¡¨æ—¶ï¼Œè‡ªç„¶è°ƒç”¨çš„å°±æ˜¯å­ç±»çš„å‡½æ•°ã€‚</strong></p>
<p>æ€»ç»“ï¼šè™šå‡½æ•°æ˜¯C++ç±»çš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œå¾ˆç®€å•ï¼Œä½†ä½¿ç”¨é¢‘ç‡éå¸¸é«˜ï¼Œè‡³äºå¦‚ä½•å®ç°çš„ä¹Ÿè¦æŒæ¡ã€‚</p>
<h2 id="é™æ€æˆå‘˜å˜é‡ä¸é™æ€å‡½æ•°"><a href="#é™æ€æˆå‘˜å˜é‡ä¸é™æ€å‡½æ•°" class="headerlink" title="é™æ€æˆå‘˜å˜é‡ä¸é™æ€å‡½æ•°"></a>é™æ€æˆå‘˜å˜é‡ä¸é™æ€å‡½æ•°</h2><p>**1.**é™æ€æˆå‘˜å˜é‡ï¼š</p>
<p>(1) Part2çš„ç¬¬å…­èŠ‚è¯¾å°±è®²è¿‡Cè¯­è¨€çš„é™æ€æˆå‘˜å˜é‡ï¼Œåœ¨ç¼–è¯‘æœŸå°±å·²ç»åœ¨é™æ€å˜é‡åŒºæ˜ç¡®äº†åœ°å€ï¼Œæ‰€ä»¥ç”Ÿå‘½å‘¨æœŸä¸ºç¨‹åºä»å¼€å§‹è¿è¡Œåˆ°ç»“æŸï¼Œä½œç”¨èŒƒå›´ä¸ºä¸æ™®é€šçš„æˆå‘˜å˜é‡ç›¸åŒã€‚è¿™äº›å¯¹äºç±»çš„é™æ€æˆå‘˜å˜é‡åŒæ ·é€‚ç”¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> i;<br>&#125;<br><span class="hljs-type">unsigned</span> Test::i=<span class="hljs-number">20</span>;<span class="hljs-comment">//å¿…é¡»åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    std::cout&lt;&lt;Test::i&lt;&lt;std::endl;<span class="hljs-comment">//ç±»åè°ƒç”¨</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>(2) ç±»çš„é™æ€æˆå‘˜å˜é‡å› ä¸ºåˆ›å»ºåœ¨é™æ€å˜é‡åŒºï¼Œæ‰€ä»¥ç›´æ¥å±äºç±»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è°ƒç”¨ï¼Œå½“ç„¶é€šè¿‡å¯¹è±¡è°ƒç”¨ä¹Ÿå¯ä»¥ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br>    <span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> i;<br>&#125;<br><span class="hljs-type">unsigned</span> Test::i=<span class="hljs-number">20</span>;<span class="hljs-comment">//å¿…é¡»åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    Test test;<br>    std::cout&lt;&lt;test.i&lt;&lt;std::endl;<span class="hljs-comment">//ç±»å¯¹è±¡è°ƒç”¨</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>**2.**é™æ€æˆå‘˜å˜é‡çš„æ³¨æ„é¡¹ï¼š</p>
<p>(1) é™æ€æˆå‘˜å˜é‡å¿…é¡»åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦åˆ™ä¼šæŠ¥æœªå®šä¹‰çš„é”™è¯¯ï¼Œä¸èƒ½ç”¨æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚å› ä¸ºé™æ€æˆå‘˜å˜é‡åœ¨é™æ€å˜é‡åŒºï¼Œåªæœ‰ä¸€ä»½ï¼Œè€Œä¸”é™æ€æˆå‘˜å˜é‡åœ¨ç¼–è¯‘æœŸå°±è¦è¢«åˆ›å»ºï¼Œæˆå‘˜å‡½æ•°é‚£éƒ½æ˜¯è¿è¡ŒæœŸçš„äº‹æƒ…äº†</p>
<p>**3.**é™æ€æˆå‘˜å‡½æ•°çš„ç‰¹ç‚¹ï¼šé™æ€æˆå‘˜å‡½æ•°å°±æ˜¯ä¸ºé™æ€æˆå‘˜å˜é‡è®¾è®¡çš„ï¼Œå°±æ˜¯ä¸ºäº†ç»´æŒå°è£…æ€§ã€‚</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> <span class="hljs-title">getI</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> i; &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> i;<br>&#125;;<br><span class="hljs-type">unsigned</span> Test::i = <span class="hljs-number">20</span>;<span class="hljs-comment">//å¿…é¡»åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Test test;<br>    std::cout &lt;&lt; Test::<span class="hljs-built_in">getI</span>() &lt;&lt; std::endl;<span class="hljs-comment">//ç±»å¯¹è±¡è°ƒç”¨</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="çº¯è™šå‡½æ•°"><a href="#çº¯è™šå‡½æ•°" class="headerlink" title="çº¯è™šå‡½æ•°"></a>çº¯è™šå‡½æ•°</h2><p>**1.**çº¯è™šå‡½æ•°ä»‹ç»ï¼š</p>
<p>(1) è¿˜æ˜¯é‚£ä¸ªæªæ¢°å°„å‡»çš„ä¾‹å­ï¼ŒåŸºç¡€çš„æªç±»æœ‰å¯¹åº”çš„å¯¹è±¡å—ï¼Ÿæ²¡æœ‰ã€‚å®ƒå”¯ä¸€çš„ä½œç”¨å°±æ˜¯è¢«å­ç±»ç»§æ‰¿ã€‚</p>
<p>(2) åŸºç±»çš„openfireå‡½æ•°å®ç°è¿‡ç¨‹æœ‰æ„ä¹‰å—ï¼Ÿæ²¡æœ‰ã€‚å®ƒå°±æ˜¯ç”¨æ¥è¢«é‡å†™çš„ã€‚</p>
<p>(3) æ‰€ä»¥çº¯è™šå‡½æ•°çš„è¯­æ³•è¯ç”Ÿäº†ï¼Œåªè¦å°†ä¸€ä¸ªè™šå‡½æ•°å†™ä¸ºçº¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆè¯¥ç±»å°†è¢«è®¤ä¸ºæ— å®é™…æ„ä¹‰çš„ç±»ï¼Œæ— æ³•äº§ç”Ÿå¯¹è±¡ã€‚çº¯è™šå‡½æ•°ä¹Ÿä¸ç”¨å»å†™å®é™…éƒ¨åˆ†ã€‚å†™äº†ç¼–è¯‘æœŸä¹Ÿä¼šè‡ªåŠ¨å¿½ç•¥ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Spear</span><span class="hljs-comment">//çˆ¶ç±»</span><br>&#123;<br>    <br><span class="hljs-keyword">protected</span>:<br>    std::string name;<br>    std::string icon;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">FireSpear</span>(<span class="hljs-type">const</span> std::string&amp; name_, <span class="hljs-type">const</span> std::string&amp; icon_,<span class="hljs-type">int</span> i) <span class="hljs-built_in">Spear</span>(name_,icon_), <span class="hljs-built_in">i</span>(i)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Spear()&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span>=<span class="hljs-number">0</span><span class="hljs-comment">//å˜æˆçº¯è™šå‡½æ•°ï¼Œä¸éœ€è¦å®ç°ï¼Œåè¾¹ä¸ç”¨å†™ï¼Œä½†æ˜¯ä¸èƒ½æŠŠè™šæ„å‡½æ•°å’Œè™šæ„å‡½æ•°å¿½ç•¥</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Spear::openFire&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>pirvate:<br>    <span class="hljs-type">int</span> i;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FireSpear</span> : <span class="hljs-keyword">public</span> Spear<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">    </span>&#123;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;FireSpear::openfire&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br> <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">openFire</span><span class="hljs-params">(<span class="hljs-type">const</span> Spear* pSpear)</span><span class="hljs-comment">//åŠ äº†virtualåŠ¨æ€ç»‘å®š</span></span><br><span class="hljs-function"></span>&#123;<br>    pSpear-&gt;<span class="hljs-built_in">openFire</span>();<br>    <span class="hljs-keyword">delete</span> pSpear;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">openFire</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">FireSpear</span>(<span class="hljs-string">&quot;acd&quot;</span>, <span class="hljs-string">&quot;sad&quot;</span>, <span class="hljs-number">10</span>));<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p> æ€»ç»“ï¼šçº¯è™šå‡½æ•°çš„ç‰¹ç‚¹å°±æ˜¯è¯­æ³•ç®€å•ï¼Œå´ç»å¸¸ä½¿ç”¨ï¼Œå¿…ä¼šã€‚</p>
<h2 id="RTTL"><a href="#RTTL" class="headerlink" title="RTTL"></a>RTTL</h2><p>**1.**RTTIä»‹ç»ï¼š</p>
<p>(1) RTTIï¼ˆRun Time Type Identificationï¼‰å³é€šè¿‡è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œç¨‹åºèƒ½å¤Ÿé€šè¿‡åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ¥æ£€æŸ¥è¿™äº›æŒ‡é’ˆæˆ–å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡çš„å®é™…æ´¾ç”Ÿç±»ã€‚</p>
<p>(2) C++ä¸ºäº†æ”¯æŒå¤šæ€ï¼ŒC++çš„æŒ‡é’ˆæˆ–å¼•ç”¨çš„ç±»å‹å¯èƒ½ä¸å®ƒå®é™…æŒ‡å‘å¯¹è±¡çš„ç±»å‹ä¸ç›¸åŒï¼Œè¿™æ—¶å°±éœ€è¦rttiå»åˆ¤æ–­ç±»çš„å®é™…ç±»å‹äº†ï¼Œ<strong>rttiæ˜¯C++åˆ¤æ–­æŒ‡é’ˆæˆ–å¼•ç”¨å®é™…ç±»å‹çš„å”¯ä¸€æ–¹å¼ã€‚</strong></p>
<p> <strong>2.<strong>RTTIçš„ä½¿ç”¨åœºæ™¯ï¼š</strong>å¯èƒ½æœ‰å¾ˆå¤šäººä¼šç–‘æƒ‘RTTIçš„ä½œç”¨ï¼Œæ‰€ä»¥å•ç‹¬æ‹¿å‡ºæ¥è¯´ä¸€ä¸‹ã€‚</strong></p>
<p>(1) å¼‚å¸¸å¤„ç†ï¼šè¿™æ˜¯RTTIæœ€ä¸»è¦çš„ä½¿ç”¨åœºæ™¯ï¼Œå…·ä½“ä½œç”¨åœ¨å¼‚å¸¸å¤„ç†ç« èŠ‚ä¼šè¯¦ç»†è®²è§£ã€‚</p>
<p>(2) IOæ“ä½œï¼šå…·ä½“ä½œç”¨ç­‰åˆ°IOç« èŠ‚ä¼šè¯¦ç»†è®²è§£ã€‚</p>
<p>**3.**RTTIçš„ä½¿ç”¨æ–¹å¼ï¼šRTTIçš„ä½¿ç”¨è¿‡ç¨‹å°±ä¸¤ä¸ªå‡½æ•°</p>
<p>(1) typeidå‡½æ•°ï¼štypeidå‡½æ•°è¿”å›çš„ä¸€ä¸ªå«åštype_infoçš„ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“åŒ…æ‹¬äº†æ‰€æŒ‡å‘å¯¹è±¡çš„å®é™…ä¿¡æ¯ï¼Œå…¶ä¸­name()å‡½æ•°å°±å¯ä»¥è¿”å›å‡½æ•°çš„çœŸå®åç§°ã€‚type_infoç»“æ„ä½“å…¶ä»–å‡½æ•°æ²¡ä»€ä¹ˆç”¨.</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::cout&lt;&lt;<span class="hljs-built_in">typeid</span>(*æŒ‡é’ˆ).<span class="hljs-built_in">name</span>()&lt;&lt;std::endl;<br></code></pre></td></tr></table></figure>

<p>(2) dynamic_castå‡½æ•°ï¼šC++æä¾›çš„å°†çˆ¶ç±»æŒ‡é’ˆè½¬åŒ–ä¸ºå­ç±»æŒ‡é’ˆçš„å‡½æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">FirSpear* pFirSpear=<span class="hljs-built_in">dunamic_cast</span>&lt;FireSpear*&gt;(pSpear);<span class="hljs-comment">//æŒ‡é’ˆå’Œå¼•ç”¨å¯ä»¥ï¼Œè½¬åŒ–æˆåŠŸè¿”å›å¯¹åº”æŒ‡é’ˆï¼Œä¸æˆåŠŸNONE</span><br></code></pre></td></tr></table></figure>

<p>é‡è¦å†™æ³•</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">if</span>(std::<span class="hljs-built_in">string</span>(<span class="hljs-built_in">typeid</span>(*pSpear).<span class="hljs-built_in">name</span>())==<span class="hljs-string">&quot;class FirSpear&quot;</span>)<br>&#123;<br>    FirSpear* pFirSpear=<span class="hljs-built_in">dunamic_cast</span>&lt;FirSpear*&gt;(pSpear);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>1.RTTIçš„æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<p><strong>å½“ä½¿ç”¨typeidå‡½æ•°æ—¶ï¼Œçˆ¶ç±»å’Œå­ç±»å¿…é¡»æœ‰è™šå‡½æ•°ï¼ˆçˆ¶ç±»æœ‰äº†è™šå‡½æ•°ï¼Œå­ç±»è‡ªç„¶ä¼šæœ‰è™šå‡½æ•°ï¼‰ï¼Œå¦åˆ™ç±»å‹åˆ¤æ–­ä¼šå‡ºé”™ã€‚</strong></p>
<p>RTTIæ€»ç»“ï¼šå°±æ˜¯C++åœ¨è¿è¡Œé˜¶æ®µåˆ¤æ–­å¯¹è±¡å®é™…ç±»å‹çš„å”¯ä¸€æ–¹å¼ã€‚</p>
<h2 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h2><p>å¤šç»§æ‰¿äº†è§£ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<p>**1.**å¤šç»§æ‰¿çš„æ¦‚å¿µï¼šå°±æ˜¯ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿å¤šä¸ªç±»ï¼Œåœ¨å†…å­˜ä¸Šï¼Œè¯¥ç±»å¯¹è±¡å‰é¢ä¾æ¬¡ä¸ºç¬¬ä¸€ä¸ªç»§æ‰¿çš„ç±»ï¼Œç¬¬äºŒä¸ªç»§æ‰¿çš„ç±»ï¼Œä¾æ¬¡ç±»æ¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++">#<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base1</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Base1</span>(<span class="hljs-type">int</span> base1I_) :<span class="hljs-built_in">base1I</span>(base1I_) &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base1()&quot;</span> &lt;&lt; std::endl; &#125;<br><span class="hljs-keyword">protected</span>:<br>	<span class="hljs-type">int</span> base1I;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base2</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Base2</span>(<span class="hljs-type">int</span> base2I_) :<span class="hljs-built_in">base2I</span>(base2I_) &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base2()&quot;</span> &lt;&lt; std::endl; &#125;<br><span class="hljs-keyword">protected</span>:<br>	<span class="hljs-type">int</span> base2I;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dervied</span> : <span class="hljs-keyword">public</span> Base1, <span class="hljs-keyword">public</span> Base2<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Dervied</span>(<span class="hljs-type">int</span> base1I_, <span class="hljs-type">int</span> base2I_, <span class="hljs-type">int</span> i_) :<span class="hljs-built_in">Base1</span>(base1I_), <span class="hljs-built_in">Base2</span>(base2I_), <span class="hljs-built_in">i</span>(i_)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Derived&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> i;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">Dervied <span class="hljs-title">dervied</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)</span></span>;<br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">Base1</span>()<br><span class="hljs-built_in">Base2</span>()<br>Derived<span class="hljs-comment">//ä¼˜å…ˆè°ƒç”¨å­ç±»çš„å‚æ•°ï¼Œä½†æ˜¯å¦‚æœè°ƒç”¨çˆ¶ç±»ä»¬ç›¸åŒçš„å‚æ•°ï¼Œå°±ä¼šå‡ºé”™</span><br></code></pre></td></tr></table></figure>

<p>**2.**å¤šç»§æ‰¿çš„æ³¨æ„ç‚¹ï¼š</p>
<p>(1) å¤šç»§æ‰¿æœ€éœ€è¦æ³¨æ„çš„ç‚¹å°±æ˜¯é‡å¤ç»§æ‰¿çš„é—®é¢˜</p>
<p>(2) å¤šç»§æ‰¿ä¼šä½¿æ•´ä¸ªç¨‹åºçš„è®¾è®¡æ›´åŠ å¤æ‚ï¼Œå¹³å¸¸ä¸æ¨èä½¿ç”¨ã€‚C++è¯­è¨€ä¸­ç”¨åˆ°å¤šç»§æ‰¿çš„åœ°æ–¹ä¸»è¦å°±æ˜¯å€Ÿå£æ¨¡å¼ã€‚ç›¸è¾ƒäºC++ï¼Œjavaç›´æ¥å–æ¶ˆäº†å¤šç»§æ‰¿çš„åŠŸèƒ½ï¼Œæ·»åŠ äº†å€Ÿå£ã€‚</p>
<p><strong>3.<strong>å¤šç»§æ‰¿çš„æ€»ç»“ï¼šå¤š</strong>ç»§æ‰¿è¿™ä¸ªè¯­æ³•è™½ç„¶åœ¨æŸäº›æƒ…å†µä¸‹ä½¿ä»£ç å†™èµ·æ¥æ›´åŠ ç®€æ´ï¼Œä½†ä¼šä½¿ç¨‹åºæ›´åŠ å¤æ‚éš¾æ‡‚ï¼Œä¸€èˆ¬æ¥è¯´é™¤äº†å€Ÿå£æ¨¡å¼ä¸æ¨èä½¿ç”¨ã€‚</strong></p>
<h2 id="è™šç»§æ‰¿åŠå…¶å®ç°åŸç†"><a href="#è™šç»§æ‰¿åŠå…¶å®ç°åŸç†" class="headerlink" title="è™šç»§æ‰¿åŠå…¶å®ç°åŸç†"></a>è™šç»§æ‰¿åŠå…¶å®ç°åŸç†</h2><p>**1.**è™šç»§æ‰¿çš„æ¦‚å¿µï¼šè™šç»§æ‰¿å°±æ˜¯ä¸ºäº†é¿å…å¤šé‡ç»§æ‰¿æ—¶äº§ç”Ÿçš„äºŒä¹‰æ€§é—®é¢˜ã€‚è™šç»§æ‰¿çš„é—®é¢˜ç”¨è¯­è¨€ä¸å¥½æè¿°ï¼Œä½†ç”¨ä»£ç éå¸¸ç®€å•ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TrueBase</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	std::string icon;<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base1</span> :  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> TrueBase<span class="hljs-comment">//è™šç»§æ‰¿</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Base1</span>(<span class="hljs-type">int</span> base1I_) :<span class="hljs-built_in">base1I</span>(base1I_) &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base1()&quot;</span> &lt;&lt; std::endl; &#125;<br>	<span class="hljs-type">int</span> base1I;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base2</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> TrueBase<span class="hljs-comment">//è™šç»§æ‰¿</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Base2</span>(<span class="hljs-type">int</span> base2I_) :<span class="hljs-built_in">base2I</span>(base2I_) &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base2()&quot;</span> &lt;&lt; std::endl; &#125;<br>	<span class="hljs-type">int</span> base2I;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dervied</span> :<span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> Base1, <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> Base2<span class="hljs-comment">//è¿™é‡Œå¯åŠ å¯ä¸åŠ ï¼Œä¸å¤ªç†è§£å°±åŠ ä¸Š</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Dervied</span>(<span class="hljs-type">int</span> base1I_, <span class="hljs-type">int</span> base2I_, <span class="hljs-type">int</span> i_) :<span class="hljs-built_in">Base1</span>(base1I_), <span class="hljs-built_in">Base2</span>(base2I_)<br>	&#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;Derived&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">Dervied <span class="hljs-title">derived</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)</span></span>;<br>	std::cout &lt;&lt; derived.i &lt;&lt; std::endl;<br>	<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">Base1()<br>Base2()<br>Derived<br>100<br><br></code></pre></td></tr></table></figure>

<p>**2.**è™šç»§æ‰¿çš„å®ç°åŸç†ä»‹ç»ï¼š</p>
<p>(1) ä½¿ç”¨äº†è™šç»§æ‰¿çš„ç±»ä¼šæœ‰ä¸€ä¸ªè™šç»§æ‰¿è¡¨ï¼Œè¡¨ä¸­å­˜æ”¾äº†çˆ¶ç±»æ‰€æœ‰æˆå‘˜å˜é‡ç›¸å¯¹äºç±»çš„åç§»åœ°å€ã€‚</p>
<p>(2) æŒ‰ç…§åˆšæ‰çš„ä»£ç ï¼ŒB1ï¼ŒB2ç±»åŒæ—¶æœ‰ä¸€ä¸ªè™šç»§æ‰¿è¡¨ï¼Œå½“Cç±»åŒæ—¶ç»§æ‰¿B1å’ŒB2ç±»æ—¶ï¼Œæ¯ç»§æ‰¿ä¸€ä¸ªå°±ä¼šç”¨è™šç»§æ‰¿è¡¨è¿›è¡Œæ¯”å¯¹ï¼Œå‘ç°è¯¥å˜é‡åœ¨è™šç»§æ‰¿è¡¨ä¸­åç§»åœ°å€ç›¸åŒï¼Œå°±åªä¼šç»§æ‰¿ä¸€ä»½ã€‚</p>
<p>**4.**è™šç»§æ‰¿çš„æ€»ç»“ï¼šè¿™ä¸ªè¯­æ³•å°±æ˜¯å…¸å‹çš„è¯­æ³•ç®€å•ï¼Œä½†åœ¨æ¸¸æˆå¼€å‘é¢†åŸŸç»å¸¸ä½¿ç”¨çš„è¯­æ³•ï¼Œå…¶å®ƒé¢†åŸŸä½¿ç”¨é¢‘ç‡ä¼šä½å¾ˆå¤šã€‚</p>
<h2 id="ç§»åŠ¨æ„é€ å‡½æ•°ä¸ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦"><a href="#ç§»åŠ¨æ„é€ å‡½æ•°ä¸ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="(**)ç§»åŠ¨æ„é€ å‡½æ•°ä¸ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦"></a>(**)ç§»åŠ¨æ„é€ å‡½æ•°ä¸ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</h2><p>**1.**å¯¹è±¡ç§»åŠ¨çš„æ¦‚å¿µï¼š</p>
<p>(1) å¯¹ä¸€ä¸ªä½“ç§¯æ¯”è¾ƒå¤§çš„ç±»è¿›è¡Œå¤§é‡çš„æ‹·è´æ“ä½œæ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ï¼Œå› æ­¤C++11ä¸­åŠ å…¥äº†â€œå¯¹è±¡ç§»åŠ¨â€çš„æ“ä½œ</p>
<p>(2) æ‰€è°“çš„å¯¹è±¡ç§»åŠ¨ï¼Œå…¶å®å°±æ˜¯æŠŠè¯¥å¯¹è±¡å æ®çš„å†…å­˜ç©ºé—´çš„è®¿é—®æƒé™è½¬ç§»ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚æ¯”å¦‚ä¸€å—å†…å­˜åŸæœ¬å±äºAï¼Œåœ¨è¿›è¡Œâ€œç§»åŠ¨è¯­ä¹‰â€åï¼Œè¿™å—å†…å­˜å°±å±äºBäº†ã€‚</p>
<p> **2.**ç§»åŠ¨è¯­ä¹‰ä¸ºä»€ä¹ˆå¯ä»¥æé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚å› ä¸ºæˆ‘ä»¬çš„å„ç§æ“ä½œç»å¸¸ä¼šè¿›è¡Œå¤§é‡çš„â€œå¤åˆ¶æ„é€ â€ï¼Œâ€œèµ‹å€¼è¿ç®—â€æ“ä½œã€‚è¿™ä¸¤ä¸ªæ“ä½œéå¸¸è€—è´¹æ—¶é—´ã€‚ç§»åŠ¨æ„é€ æ˜¯ç›´æ¥è½¬ç§»æƒé™ï¼Œè¿™æ˜¯ä¸æ˜¯å°±å¿«å¤šäº†ã€‚</p>
<p><strong>æ³¨æ„ï¼šåœ¨è¿›è¡Œè½¬ç§»æ“ä½œåï¼Œè¢«è½¬ç§»çš„å¯¹è±¡å°±ä¸èƒ½ç»§ç»­ä½¿ç”¨äº†ï¼Œæ‰€ä»¥å¯¹è±¡ç§»åŠ¨ä¸€èˆ¬éƒ½æ˜¯å¯¹ä¸´æ—¶å¯¹è±¡è¿›è¡Œæ“ä½œï¼ˆå› ä¸ºä¸´æ—¶å¯¹è±¡å¾ˆå¿«å°±è¦é”€æ¯äº†ï¼‰ã€‚</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Test</span>() = <span class="hljs-keyword">default</span>;<span class="hljs-comment">//é»˜è®¤æ„é€ å‡½æ•°</span><br>	<span class="hljs-built_in">Test</span>(<span class="hljs-type">const</span> Test&amp; test)<br>	&#123;<br>		<span class="hljs-keyword">if</span> (test.str)<br>		&#123;<br>			str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-built_in">strlen</span>(test.str) + <span class="hljs-number">1</span>]();<span class="hljs-comment">//åŠ 1ä¸èƒ½çœç•¥</span><br>			<span class="hljs-built_in">strcpy_s</span>(str, <span class="hljs-built_in">strlen</span>(test.str) + <span class="hljs-number">1</span>, test.str);<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>	&#125;<br>	<span class="hljs-built_in">Test</span>(Test&amp;&amp; test)<span class="hljs-comment">//ç§»åŠ¨æ„é€ å‡½æ•°</span><br>	&#123;<br>		<span class="hljs-keyword">if</span> (test.str)<br>		&#123;<br>			str = test.str;<br>			test.str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>	&#125;<br>	Test&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Test&amp; test)<br>	&#123;<br>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;test)<br>		&#123;<br>			<span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>		&#125;<br>		<span class="hljs-keyword">if</span> (str) &#123;<span class="hljs-comment">//æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²</span><br>			<span class="hljs-keyword">delete</span>[] str;<br>			str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>		<span class="hljs-keyword">if</span> (test.str)<br>		&#123;<br>			str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-built_in">strlen</span>(test.str) + <span class="hljs-number">1</span>]();<br>			<span class="hljs-built_in">strcpy_s</span>(str, <span class="hljs-built_in">strlen</span>(test.str) + <span class="hljs-number">1</span>, test.str);<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>		<span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>	&#125;<br>	Test&amp; <span class="hljs-keyword">operator</span> = (Test&amp;&amp; test)<br>	&#123;<br>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;test)<br>		&#123;<br>			<span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>		&#125;<br>		<span class="hljs-keyword">if</span> (str) &#123;<br>			<span class="hljs-keyword">delete</span>[] str;<br>			str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>		<span class="hljs-keyword">if</span> (test.str)<br>		&#123;<br>			str = test.str;<span class="hljs-comment">//è½¬ç§»æƒé™</span><br>			test.str;<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			str = <span class="hljs-literal">nullptr</span>;<br>		&#125;<br>		<span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">char</span>* str = <span class="hljs-literal">nullptr</span>;<span class="hljs-comment">//è§„èŒƒå†™æ³•</span><br>&#125;;<br><span class="hljs-function">Test <span class="hljs-title">makeTest</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Test t;<br>	<span class="hljs-keyword">return</span> t;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	Test t = <span class="hljs-built_in">makeTest</span>();<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p> æ³¨æ„è¿™é‡Œçš„å³å€¼å¼•ç”¨ä¸èƒ½æ˜¯constçš„ï¼Œå› ä¸ºä½ ç”¨å³å€¼å¼•ç”¨å‡½æ•°å‚æ•°å°±ç®—ä¸ºäº†è®©å…¶ç»‘å®šåˆ°ä¸€ä¸ªå³å€¼ä¸Šå»çš„ï¼å°±æ˜¯è¯´è¿™ä¸ªå³å€¼å¼•ç”¨æ˜¯ä¸€å®šè¦å˜çš„ï¼Œä½†æ˜¯ä½ ä¸€æ—¦åŠ äº†constå°±æ²¡æ³•æ”¹å˜è¯¥å³å€¼å¼•ç”¨äº†ã€‚</p>
<p><strong>3.</strong> <strong>é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°å’Œé»˜è®¤ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</strong></p>
<p> ä¼šé»˜è®¤ç”Ÿæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦çš„æ¡ä»¶ï¼š</p>
<p> <strong>åªæœ‰ä¸€ä¸ªç±»æ²¡æœ‰å®šä¹‰ä»»ä½•è‡ªå·±ç‰ˆæœ¬çš„æ‹·è´æ“ä½œï¼ˆæ‹·è´æ„é€ ï¼Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œä¸”ç±»çš„æ¯ä¸ªéé™æ€æˆå‘˜éƒ½å¯ä»¥ç§»åŠ¨ï¼Œç³»ç»Ÿæ‰èƒ½ä¸ºæˆ‘ä»¬åˆæˆã€‚</strong></p>
<p> <strong>å¯ä»¥ç§»åŠ¨çš„æ„æ€å°±æ˜¯å¯ä»¥å°±è¡Œç§»åŠ¨æ„é€ ï¼Œç§»åŠ¨èµ‹å€¼ã€‚æ‰€æœ‰çš„åŸºç¡€ç±»å‹éƒ½æ˜¯å¯ä»¥ç§»åŠ¨çš„ï¼Œæœ‰ç§»åŠ¨è¯­ä¹‰çš„ç±»ä¹Ÿæ˜¯å¯ä»¥ç§»åŠ¨çš„ã€‚</strong></p>
<p>hhh,å‘¨äº”æˆåŠŸæŠŠpart3ç»“æŸï¼Œä½†æ˜¯ç§»åŠ¨æ„é€ å‡½æ•°è¿˜æ˜¯ä¸å¤ªæ‡‚ï¼Œè¦å¤ä¹ å–½</p>
<h1 id="æ™ºèƒ½æŒ‡é’ˆ"><a href="#æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="æ™ºèƒ½æŒ‡é’ˆ"></a>æ™ºèƒ½æŒ‡é’ˆ</h1><h2 id="æ™ºèƒ½æŒ‡é’ˆæ¦‚è¿°"><a href="#æ™ºèƒ½æŒ‡é’ˆæ¦‚è¿°" class="headerlink" title="æ™ºèƒ½æŒ‡é’ˆæ¦‚è¿°"></a>æ™ºèƒ½æŒ‡é’ˆæ¦‚è¿°</h2><p> <strong>1.</strong> ä¸ºä»€ä¹ˆè¦æœ‰æ™ºèƒ½æŒ‡é’ˆï¼šåœ¨Part2çš„ç¬¬äºŒèŠ‚è¯¾å·²ç»è®²è¿‡ï¼Œç›´æ¥ä½¿ç”¨newå’Œdeleteè¿ç®—ç¬¦æå…¶å®¹æ˜“å¯¼è‡´å†…å­˜æ³„éœ²ï¼Œè€Œä¸”éå¸¸éš¾ä»¥é¿å…ã€‚äºæ˜¯äººä»¬å‘æ˜äº†æ™ºèƒ½æŒ‡é’ˆè¿™ç§å¯ä»¥è‡ªåŠ¨å›æ”¶å†…å­˜çš„å·¥å…·ã€‚</p>
<p>  <strong>2.</strong> æ™ºèƒ½æŒ‡é’ˆä¸€å…±å°±ä¸‰ç§ï¼šæ™®é€šçš„æŒ‡é’ˆå¯ä»¥å•ç‹¬ä¸€ä¸ªæŒ‡é’ˆå ç”¨ä¸€å—å†…å­˜ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªæŒ‡é’ˆå…±äº«ä¸€å—å†…å­˜ã€‚</p>
<p>(1) å…±äº«å‹æ™ºèƒ½æŒ‡é’ˆï¼šshared_ptrï¼ŒåŒä¸€å—å †å†…å­˜å¯ä»¥è¢«å¤šä¸ªshared_ptrå…±äº«ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span>* pi = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>);<br>	<span class="hljs-function"><span class="hljs-type">int</span>* <span class="hljs-title">pi2</span><span class="hljs-params">(pi)</span></span>;<span class="hljs-comment">//pi2å’Œpiå…±äº«ä¸€æ®µå†…å­˜</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>(2) ç‹¬äº«å‹æ™ºèƒ½æŒ‡é’ˆï¼šunique_ptrï¼ŒåŒä¸€å—å †å†…å­˜åªèƒ½è¢«ä¸€ä¸ªunique_ptræ‹¥æœ‰ã€‚æ— æ³•æ‹·è´å’Œåˆ¶é€ </p>
<p>(3) å¼±å¼•ç”¨æ™ºèƒ½æŒ‡é’ˆï¼šweak_ptrï¼Œä¹Ÿæ˜¯ä¸€ç§å…±äº«å‹æ™ºèƒ½æŒ‡é’ˆï¼Œå¯ä»¥è§†ä¸ºå¯¹å…±äº«å‹æ™ºèƒ½æŒ‡é’ˆçš„ä¸€ç§è¡¥å……</p>
<p> <strong>3.</strong> <strong>ï¼ˆ*ï¼‰æ™ºèƒ½æŒ‡é’ˆæ³¨æ„äº‹é¡¹ï¼š</strong></p>
<p><strong>æ™ºèƒ½æŒ‡é’ˆå’Œè£¸æŒ‡é’ˆä¸è¦æ··ç”¨ï¼Œæ¥ä¸‹æ¥çš„å‡ èŠ‚è¯¾ä¼šåå¤å¼ºè°ƒè¿™ä¸€ç‚¹ã€‚</strong></p>
<h2 id="shared-ptr"><a href="#shared-ptr" class="headerlink" title="(*)shared_ptr"></a>(*)shared_ptr</h2><p><strong>1.shared_ptrçš„å·¥ä½œåŸç†</strong> </p>
<p> (1)æˆ‘ä»¬åœ¨åŠ¨æ€åˆ†é…å†…å­˜æ—¶ï¼Œå †ä¸Šçš„å†…å­˜å¿…é¡»é€šè¿‡æ ˆä¸Šçš„å†…å­˜æ¥å¯»å€ã€‚ä¹Ÿå°±æ˜¯è¯´æ ˆä¸Šçš„æŒ‡é’ˆï¼ˆå †ä¸Šçš„æŒ‡é’ˆä¹Ÿå¯ä»¥æŒ‡å‘å †å†…å­˜ï¼Œä½†ç»ˆç©¶æ˜¯è¦é€šè¿‡æ ˆæ¥å¯»å€çš„ï¼‰æ˜¯å¯»æ‰¾å †å†…å­˜çš„å”¯ä¸€æ–¹å¼ã€‚<br> (2)æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»™å †å†…å­˜æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œæœ‰å‡ ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒï¼Œå®ƒçš„å¼•ç”¨è®¡æ•°å°±æ˜¯å‡ ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨é‡Šæ”¾è¿™å—å †å†…å­˜ã€‚<br> <strong>2.Shared_ptrçš„å¸¸ç”¨æ“ä½œ</strong> </p>
<p><strong>(1)shared_ptrçš„åˆå§‹åŒ–</strong> </p>
<p> â‘ ä½¿ç”¨newè¿ç®—ç¬¦åˆå§‹åŒ–ï¼Œ ä¸€èˆ¬æ¥è¯´ä¸æ¨èä½¿ç”¨newè¿›è¡Œåˆå§‹åŒ–ï¼Œå› ä¸ºC++æ ‡å‡†æä¾›äº†ä¸“é—¨åˆ›å»ºshared_ptrçš„å‡½æ•°â€œmake_sharedâ€ï¼Œè¯¥å‡½æ•°æ˜¯ç»è¿‡ä¼˜åŒ–çš„ï¼Œæ•ˆç‡æ›´é«˜ã€‚<br> â‘¡ä½¿ç”¨make_sharedå‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼š  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);<br>std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">sharedI2</span>(sharedI);<span class="hljs-comment">//å…è®¸å¤šä¸ªæ™ºèƒ½æŒ‡é’ˆæŒ‡å‘åŒä¸€å—å†…å­˜</span><br></code></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šåƒä¸‡ä¸è¦ç”¨è£¸æŒ‡é’ˆåˆå§‹åŒ–shared_ptrï¼Œå®¹æ˜“å‡ºç°å†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚</p>
<p> â‘¢å½“ç„¶ä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆå§‹åŒ–ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚<br> ä»£ç æ¼”ç¤º:   </p>
<p>(2)shared_ptrçš„å¼•ç”¨è®¡æ•°ï¼š  æ™ºèƒ½æŒ‡é’ˆå°±æ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°æ¥åˆ¤æ–­é‡Šæ”¾å †å†…å­˜æ—¶æœºçš„ã€‚<br>use_count()å‡½æ•°å¯ä»¥å¾—åˆ°shared_ptrå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123; 	<br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; 	<br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">shareI2</span>(sharedI); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl; 	<br>	shareI2.<span class="hljs-built_in">reset</span>(); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<span class="hljs-comment">//ç»“æœè¾“å‡º121</span><br></code></pre></td></tr></table></figure>

<p><strong>3.æ™ºèƒ½æŒ‡é’ˆå¯ä»¥åƒæ™®é€šæŒ‡é’ˆé‚£æ ·ä½¿ç”¨ï¼Œâ€share_ptrâ€æ—©å·²å¯¹å„ç§æ“ä½œè¿›è¡Œäº†é‡è½½ï¼Œå°±å½“å®ƒæ˜¯æ™®é€šæŒ‡é’ˆå°±å¯ä»¥äº†.</strong> </p>
<p>**4.Shared_ptrçš„å¸¸ç”¨å‡½æ•° **</p>
<p>(3)uniqueå‡½æ•°ï¼šåˆ¤æ–­è¯¥shared_ptrå¯¹è±¡æ˜¯å¦ç‹¬å è‹¥ç‹¬å ï¼Œè¿”å›trueã€‚å¦åˆ™è¿”å›falseã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123; 	<br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">unique</span>() &lt;&lt; std::endl;<span class="hljs-comment">//ç‹¬å è¿”å›1 	</span><br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">shareI2</span>(sharedI); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">unique</span>() &lt;&lt; std::endl;<span class="hljs-comment">//ç‹¬å è¿”å›0 	</span><br>	shareI2.<span class="hljs-built_in">reset</span>(); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">unique</span>() &lt;&lt; std::endl;<span class="hljs-comment">//è¿”å›1</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br></code></pre></td></tr></table></figure>

<p> (4)resetå‡½æ•°ï¼š </p>
<p>â‘ å½“resetå‡½æ•°æœ‰å‚æ•°æ—¶ï¼Œæ”¹å˜æ­¤shared_ptrå¯¹è±¡æŒ‡å‘çš„å†…å­˜ã€‚<br>â‘¡å½“resetå‡½æ•°æ— å‚æ•°æ—¶ï¼Œå°†æ­¤shared_ptrå¯¹è±¡ç½®ç©ºï¼Œä¹Ÿå°±æ˜¯å°†å¯¹è±¡å†…å­˜çš„æŒ‡é’ˆè®¾ç½®ä¸ºnullptrã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123; 	<br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>); 	<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">unique</span>() &lt;&lt; std::endl;	<br>	sharedI.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">1000</span>));<span class="hljs-comment">//åŸæœ‰å †å†…å­˜è¢«é‡Šæ”¾ï¼ŒæŒ‡å‘æ–°çš„å †å†…å­˜,å†™æ³•ä¸èƒ½å†™æˆshared_ptrçš„åˆå§‹åŒ–</span><br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI2 = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);<br>	sharedI = sharedI2;<br>	sharedI.<span class="hljs-built_in">reset</span>();<span class="hljs-comment">//ç½®ä¸ºç©º</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br></code></pre></td></tr></table></figure>

<p>(5)getå‡½æ•°ï¼Œå¼ºçƒˆä¸æ¨èä½¿ç”¨</p>
<p>(6)swapå‡½æ•°ï¼šäº¤æ¢ä¸¤ä¸ªæ™ºèƒ½æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜</p>
<p>â‘ stdå‘½åç©ºé—´ä¸­å…¨å±€çš„swapå‡½æ•° </p>
<p>â‘¡shared_ptrç±»æä¾›çš„swapå‡½æ•°</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123; 	<br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>); 	<br>    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI2 = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">1000</span>);<br>	sharedI.<span class="hljs-built_in">swap</span>(sharedI2);<span class="hljs-comment">//std::swap(sharedI,sharedI2)</span><br>	std::cout &lt;&lt; *sharedI &lt;&lt; std::endl;<br>	std::cout &lt;&lt; *sharedI2 &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-03-20%20165343-1679302470989-3.png" srcset="/img/loading.gif" lazyload></p>
<p> 5.å…³äºæ™ºèƒ½æŒ‡é’ˆåˆ›å»ºæ•°ç»„çš„é—®é¢˜ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sharedI</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">100</span>]())</span></span>;<br>std::cout&lt;&lt;sharedI.<span class="hljs-built_in">get</span>()[<span class="hljs-number">10</span>]&lt;&lt;std::endl;<span class="hljs-comment">//ä¸èƒ½åƒæ™®é€šæ•°ç»„ä¸€æ ·ä½¿ç”¨</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myFunc</span><span class="hljs-params">(std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sharedI)</span><span class="hljs-comment">//ä¸ç”¨å†™const</span></span><br></code></pre></td></tr></table></figure>

<p>6.ç”¨æ™ºèƒ½æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’æ—¶ç›´æ¥å€¼ä¼ é€’å°±å¯ä»¥äº†ã€‚shared_ptrçš„å¤§å°ä¸ºå›ºå®šçš„8æˆ–16å­—èŠ‚ï¼ˆä¹Ÿå°±æ˜¯ä¸¤å€æŒ‡é’ˆçš„çš„å¤§å°ï¼Œ32ä½ç³»ç»ŸæŒ‡é’ˆä¸º4ä¸ªå­—èŠ‚ï¼Œ64ä½ç³»ç»ŸæŒ‡é’ˆä¸º8ä¸ªå­—èŠ‚ï¼Œshared_pträ¸­å°±ä¸¤ä¸ªæŒ‡é’ˆï¼‰ï¼Œæ‰€ä»¥ç›´æ¥å€¼ä¼ é€’å°±å¯ä»¥äº†ã€‚</p>
<p> shared_ptræ€»ç»“ï¼šåœ¨ç°ä»£ç¨‹åºä¸­ï¼Œå½“æƒ³è¦å…±äº«ä¸€å—å †å†…å­˜æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨shared_ptrï¼Œå¯ä»¥æå¤§çš„å‡å°‘å†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚</p>
<h2 id="weak-ptr"><a href="#weak-ptr" class="headerlink" title="(*)weak_ptr"></a>(*)weak_ptr</h2><p><strong>1.</strong> <strong>weak_pträ»‹ç»ï¼š</strong></p>
<p>(1) è¿™ä¸ªæ™ºèƒ½æŒ‡é’ˆæ˜¯åœ¨C++11çš„æ—¶å€™å¼•å…¥çš„æ ‡å‡†åº“ï¼Œå®ƒçš„å‡ºç°å®Œå…¨æ˜¯ä¸ºäº†å¼¥è¡¥shared_ptrå¤©ç”Ÿæœ‰ç¼ºé™·çš„é—®é¢˜ï¼Œå…¶å®shared_ptrå¯ä»¥è¯´è¿‘ä¹å®Œç¾ã€‚</p>
<p>(2) åªæ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°å®ç°çš„æ–¹å¼ä¹Ÿå¼•æ¥äº†å¼•ç”¨æˆç¯çš„é—®é¢˜ï¼Œè¿™ç§é—®é¢˜é å®ƒè‡ªå·±æ˜¯æ²¡åŠæ³•è§£å†³çš„ï¼Œæ‰€ä»¥åœ¨C++11çš„æ—¶å€™å°†shared_ptrå’Œweak_pträ¸€èµ·å¼•å…¥äº†æ ‡å‡†åº“ï¼Œç”¨æ¥è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123; 	<br>	std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;sharedI = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);<br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br>	std::weak_ptr&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">weakI</span>(sharedI);<span class="hljs-comment">//weak_ptræŒ‡å‘åŒä¸€ä¸ªå†…å­˜ä¸å¢åŠ å¼•ç”¨è®¡æ•°</span><br>	std::cout &lt;&lt; sharedI.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>2.</strong> <strong>shared_ptrçš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	std::weak_ptr&lt;B&gt; weakB;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	std::shared_ptr&lt;A&gt; sharedA;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123; 	<br>	std::shared_ptr&lt;A&gt;sharedA = std::<span class="hljs-built_in">make_shared</span>&lt;A&gt;();<br>	std::shared_ptr&lt;B&gt;shareB = std::<span class="hljs-built_in">make_shared</span>&lt;B&gt;();<br>	sharedA-&gt;weakB = weakB;<br>	weakB-&gt;sharedA = sharedA;<span class="hljs-comment">//å¦‚æœä¸ºä¸¤ä¸ªshared_ptrç›¸äº’æŒ‡å¼•å¯¼è‡´å†…å­˜æ— æ³•é‡Šæ”¾,æ‰€ä»¥å°†å…¶ä¸­ä¸€ä¸ªæ”¹ä¸ºweak_ptr</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>3.</strong> <strong>weak_ptrçš„ä½œç”¨åŸç†ï¼š</strong>weak_ptrçš„å¯¹è±¡éœ€è¦ç»‘å®šåˆ°shared_ptrå¯¹è±¡ä¸Šï¼Œä½œç”¨åŸç†æ˜¯weak_pträ¸ä¼šæ”¹å˜shared_ptrå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚åªè¦shared_ptrå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0ï¼Œå°±ä¼šé‡Šæ”¾å†…å­˜ï¼Œweak_ptrçš„å¯¹è±¡ä¸ä¼šå½±å“é‡Šæ”¾å†…å­˜çš„è¿‡ç¨‹ã€‚</p>
<p>æ€»ç»“ï¼š<strong>weak_pträ½¿ç”¨è¾ƒå°‘ï¼Œå°±æ˜¯ä¸ºäº†å¤„ç†shared_ptrå¾ªç¯å¼•ç”¨é—®é¢˜è€Œè®¾è®¡çš„ã€‚</strong></p>
<h2 id="unique-ptr"><a href="#unique-ptr" class="headerlink" title="(*)unique_ptr"></a>(*)unique_ptr</h2><p><strong>1.</strong> <strong>uniqe_pträ»‹ç»ï¼š</strong>ç‹¬å å¼æ™ºèƒ½æŒ‡é’ˆï¼Œåœ¨ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼˜å…ˆè€ƒè™‘ç‹¬å å¼æ™ºèƒ½æŒ‡é’ˆï¼Œå› ä¸ºæ¶ˆè€—æ›´å°ã€‚å¦‚æœå‘ç°å†…å­˜éœ€è¦å…±äº«ï¼Œé‚£ä¹ˆå†å»ä½¿ç”¨â€œshared_ptrâ€ã€‚</p>
<p><strong>2</strong> <strong>unique_ptrçš„åˆå§‹åŒ–</strong>ï¼šå’Œshared_ptrå®Œå…¨ç±»ä¼¼</p>
<p>(1) ä½¿ç”¨newè¿ç®—ç¬¦è¿›è¡Œåˆå§‹åŒ–</p>
<p>(2) ä½¿ç”¨make_uniqueå‡½æ•°è¿›è¡Œåˆå§‹åŒ–</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::unique_ptr&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">uniqueI2</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">100</span>));<br>	std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; uniqueI = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>3.</strong> <strong>unique_ptrçš„å¸¸ç”¨æ“ä½œ</strong></p>
<p>(1) unque_ptrç¦æ­¢å¤åˆ¶æ„é€ å‡½æ•°ï¼Œä¹Ÿç¦æ­¢èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½ã€‚å¦åˆ™ç‹¬å ä¾¿æ¯«æ— æ„ä¹‰ã€‚</p>
<p>(2) unqiue_ptrå…è®¸ç§»åŠ¨æ„é€ ï¼Œç§»åŠ¨èµ‹å€¼ã€‚ç§»åŠ¨è¯­ä¹‰ä»£è¡¨ä¹‹å‰çš„å¯¹è±¡å·²ç»å¤±å»äº†æ„ä¹‰ï¼Œç§»åŠ¨æ“ä½œè‡ªç„¶ä¸å½±å“ç‹¬å çš„ç‰¹æ€§ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; uniqueI = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);<br>    std::unique_ptr&lt;<span class="hljs-type">int</span>&gt;uniqueI2=std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">200</span>);<br>    uniqueI2=std::<span class="hljs-built_in">move</span>(uniqueI);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>(3) resetå‡½æ•°ï¼š</p>
<p>â‘  ä¸å¸¦å‚æ•°çš„æƒ…å†µä¸‹ï¼šé‡Šæ”¾æ™ºèƒ½æŒ‡é’ˆçš„å¯¹è±¡ï¼Œå¹¶å°†æ™ºèƒ½æŒ‡é’ˆç½®ç©ºã€‚</p>
<p>â‘¡ å¸¦å‚æ•°çš„æƒ…å†µä¸‹ï¼šé‡Šæ”¾æ™ºèƒ½æŒ‡é’ˆçš„å¯¹è±¡ï¼Œå¹¶å°†æ™ºèƒ½æŒ‡é’ˆæŒ‡å‘æ–°çš„å¯¹è±¡ã€‚</p>
<p> <strong>å’Œshared_pträ½¿ç”¨æ–¹æ³•ä¸€æ ·</strong></p>
<p><strong>4.</strong> <strong>å°†unque_ptrçš„å¯¹è±¡è½¬åŒ–ä¸ºshared_ptrå¯¹è±¡ï¼Œ</strong>å½“unique_ptrçš„å¯¹è±¡ä¸ºä¸€ä¸ªå³å€¼æ—¶ï¼Œå°±å¯ä»¥å°†è¯¥å¯¹è±¡è½¬åŒ–ä¸ºshared_ptrçš„å¯¹è±¡ã€‚</p>
<p><strong>è¿™ä¸ªä½¿ç”¨çš„å¹¶ä¸å¤šï¼Œéœ€è¦å°†ç‹¬å å¼æŒ‡é’ˆè½¬åŒ–ä¸ºå…±äº«å¼æŒ‡é’ˆå¸¸å¸¸æ˜¯å› ä¸ºå…ˆå‰è®¾è®¡å¤±è¯¯ã€‚</strong></p>
<p><strong>æ³¨æ„ï¼šshared_ptrå¯¹è±¡æ— æ³•è½¬åŒ–ä¸ºunique_ptrå¯¹è±¡ã€‚</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span> </span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myfunc</span><span class="hljs-params">(std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; uniqueI)</span><span class="hljs-comment">//éœ€è¦å…±äº«æ“ä½œæ—¶</span></span><br><span class="hljs-function"></span>&#123;<br>    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">sharedI</span>(std::<span class="hljs-built_in">move</span>(uniqueI));<span class="hljs-comment">//è½¬æ¢</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; uniqueI = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">100</span>);<br>    std::unique_ptr&lt;<span class="hljs-type">int</span>&gt;uniqueI2=std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">200</span>);<br>    uniqueI2=std::<span class="hljs-built_in">move</span>(uniqueI);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="åªèƒ½æŒ‡é’ˆé€‚ç”¨èŒƒå›´"><a href="#åªèƒ½æŒ‡é’ˆé€‚ç”¨èŒƒå›´" class="headerlink" title="(**)åªèƒ½æŒ‡é’ˆé€‚ç”¨èŒƒå›´"></a>(**)åªèƒ½æŒ‡é’ˆé€‚ç”¨èŒƒå›´</h2><p><strong>1.</strong> <strong>èƒ½ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå°±å°½é‡ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œé‚£ä¹ˆå“ªäº›æƒ…å†µå±äºä¸èƒ½ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆçš„æƒ…å†µ  å‘¢ï¼Ÿ</strong></p>
<p> æœ‰äº›å‡½æ•°å¿…é¡»ä½¿ç”¨Cè¯­è¨€çš„æŒ‡é’ˆï¼Œè¿™äº›å‡½æ•°åˆæ²¡æœ‰æ›¿ä»£ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæ‰ä½¿ç”¨æ™®é€šçš„æŒ‡é’ˆï¼Œå…¶å®ƒæƒ…å†µä¸€å¾‹ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆã€‚</p>
<p> å¿…é¡»ä½¿ç”¨Cè¯­è¨€æŒ‡é’ˆçš„æƒ…å†µåŒ…æ‹¬ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰</strong> <strong>ç½‘ç»œä¼ è¾“å‡½æ•°</strong>ï¼Œæ¯”å¦‚windowsä¸‹çš„sendï¼Œrecvå‡½æ•°ï¼Œåªèƒ½ä½¿ç”¨cè¯­è¨€æŒ‡é’ˆï¼Œæ— æ³•æ›¿ä»£.</p>
<p><strong>ï¼ˆ2ï¼‰</strong> <strong>cè¯­è¨€çš„æ–‡ä»¶æ“ä½œéƒ¨åˆ†</strong>ã€‚è¿™æ–¹é¢C++å·²ç»æœ‰äº†æ›¿ä»£å“ï¼ŒC++çš„æ–‡ä»¶æ“ä½œå®Œå…¨æ”¯æŒæ™ºèƒ½æŒ‡é’ˆï¼Œ<strong>æ‰€ä»¥åœ¨åšå¤§å‹é¡¹ç›®æ—¶ï¼Œæ¨èä½¿ç”¨C++çš„æ–‡ä»¶æ“ä½œåŠŸèƒ½ã€‚</strong></p>
<p><strong>é™¤äº†ä»¥ä¸Šä¸¤ç§æƒ…å†µï¼Œå‰©ä¸‹çš„å‡æ¨èä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆã€‚</strong></p>
<p><strong>2.</strong> <strong>æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å“ªä¸ªæ™ºèƒ½æŒ‡é’ˆå‘¢ï¼Ÿ</strong></p>
<p><strong>(1)</strong> <strong>ä¼˜å…ˆä½¿ç”¨unique_ptrï¼Œå†…å­˜éœ€è¦å…±äº«æ—¶å†ä½¿ç”¨shared_ptrã€‚</strong></p>
<p><strong>å½“ä½¿ç”¨shared_ptræ—¶ï¼Œå¦‚æœå‡ºç°äº†å¾ªç¯å¼•ç”¨çš„æƒ…å†µï¼Œå†å»è€ƒè™‘ä½¿ç”¨weak_ptr</strong></p>
<h1 id="æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹"><a href="#æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹" class="headerlink" title="æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹"></a>æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹</h1><h2 id="æ¨¡æ¿ä»‹ç»ï¼Œç±»æ¨¡æ¿ä¸æ¨¡æ¿å®ç°åŸç†"><a href="#æ¨¡æ¿ä»‹ç»ï¼Œç±»æ¨¡æ¿ä¸æ¨¡æ¿å®ç°åŸç†" class="headerlink" title="æ¨¡æ¿ä»‹ç»ï¼Œç±»æ¨¡æ¿ä¸æ¨¡æ¿å®ç°åŸç†"></a>æ¨¡æ¿ä»‹ç»ï¼Œç±»æ¨¡æ¿ä¸æ¨¡æ¿å®ç°åŸç†</h2><p><strong>1.</strong> <strong>æ¨¡æ¿çš„é‡è¦æ€§ï¼šæ¨¡æ¿æ˜¯C++æœ€é‡è¦çš„æ¨¡å—ä¹‹ä¸€ï¼Œå¾ˆå¤šäººå¯¹æ¨¡æ¿çš„é‡è§†ä¸å¤Ÿï¼Œè¿™ä¸€ç« ä¸€å®šè¦å¥½å¥½å­¦ï¼Œæ‰€æœ‰è¯¾æ—¶éƒ½æ˜¯é‡ç‚¹ã€‚</strong></p>
<p><strong>C++çš„ä¸‰å¤§æ¨¡å—ï¼Œé¢å‘è¿‡ç¨‹ï¼Œé¢å‘å¯¹è±¡ï¼Œæ¨¡æ¿ä¸æ³›å‹ã€‚é¢å‘è¿‡ç¨‹å°±æ˜¯Cè¯­è¨€ï¼Œé¢å‘å¯¹è±¡å°±æ˜¯ç±»ï¼Œç°åœ¨è½®åˆ°æ¨¡æ¿ä¸æ³›å‹äº†ã€‚</strong></p>
<p><strong>2.</strong> <strong>æ¨¡æ¿çš„ä»‹ç»ï¼š</strong></p>
<p>(1) æ¨¡æ¿èƒ½å¤Ÿå®ç°ä¸€äº›å…¶ä»–è¯­æ³•éš¾ä»¥å®ç°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ç†è§£èµ·æ¥ä¼šæ›´åŠ å›°éš¾ï¼Œå®¹æ˜“å¯¼è‡´æ–°æ‰‹æ‘¸ä¸ç€å¤´è„‘ã€‚</p>
<p>(2) æ¨¡æ¿åˆ†ä¸ºç±»æ¨¡æ¿å’Œå‡½æ•°æ¨¡æ¿ï¼Œå‡½æ•°æ¨¡æ¿åˆåˆ†ä¸ºæ™®é€šå‡½æ•°æ¨¡æ¿å’Œæˆå‘˜å‡½æ•°æ¨¡æ¿ã€‚</p>
<p> <strong>3.</strong> <strong>ç±»æ¨¡æ¿åŸºç¡€ï¼š</strong></p>
<p>ç±»æ¨¡æ¿çš„å†™æ³•ä¸ä½¿ç”¨ååˆ†å›ºå®š</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArray</span><br>&#123;<br>	<span class="hljs-keyword">using</span> iterator = T*;<span class="hljs-comment">//å®šä¹‰æ–°çš„ç±»å‹</span><br>	<span class="hljs-keyword">using</span> const_iterator = <span class="hljs-type">const</span> T*;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> count);<br>	~<span class="hljs-built_in">MyArray</span>();<br>	<span class="hljs-comment">//&#123; å†™åœ¨ç±»é‡Œé¢</span><br>	<span class="hljs-comment">//	if (count)</span><br>	<span class="hljs-comment">//	&#123;</span><br>	<span class="hljs-comment">//		data = new T[count]();</span><br>	<span class="hljs-comment">//	&#125;</span><br>	<span class="hljs-comment">//	else</span><br>	<span class="hljs-comment">//	&#123;</span><br>	<span class="hljs-comment">//		data = nullptr;</span><br>	<span class="hljs-comment">//	&#125;</span><br>	<span class="hljs-comment">//&#125;</span><br><br><span class="hljs-comment">//&#123;//ç±»å†…å®šä¹‰</span><br><span class="hljs-comment">//	if (data)</span><br><span class="hljs-comment">//	&#123;</span><br><span class="hljs-comment">//		delete[] data;</span><br><span class="hljs-comment">//	&#125;</span><br><span class="hljs-comment">//&#125;</span><br>	<span class="hljs-function">iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">return</span> data;<br>	&#125;<br>	<span class="hljs-function">const_iterator <span class="hljs-title">cbegin</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">return</span> data;<br>	&#125;<br><br><span class="hljs-keyword">private</span>:<br>	T* data;<span class="hljs-comment">//åœ¨ç±»ä¸­å¤æ‚æƒ…å†µå¯ä»¥ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œåœ¨è€ç‰ˆæœ¬ä¸æ”¯æŒåˆ›å»ºæ•°ç»„</span><br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//å†™åœ¨ç±»å¤–é¢ï¼Œä¸€èˆ¬éƒ½åœ¨ç±»å¤–å®šä¹‰</span><br>MyArray&lt;T&gt;::<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> count)<br>&#123;<br>	<span class="hljs-keyword">if</span> (count)<br>	&#123;<br>		data = <span class="hljs-keyword">new</span> T[count]();<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		data = <span class="hljs-literal">nullptr</span>;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">////ç±»å¤–å®šä¹‰éœ€è¦å…ˆæŠŠæ¨¡æ¿å¤´å†™ä¸Šå»</span><br>MyArray&lt;T&gt;::~<span class="hljs-built_in">MyArray</span>()<br>&#123;<br>	<span class="hljs-keyword">if</span> (data)<br>	&#123;<br>		<span class="hljs-keyword">delete</span>[] data;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//beginçš„ç±»å¤–å®šä¹‰</span><br><span class="hljs-keyword">typename</span> MyArray&lt;T&gt;::iterator MyArray&lt;T&gt;::<span class="hljs-built_in">begin</span>() <span class="hljs-type">const</span><span class="hljs-comment">//::å‰é¢çš„åç§°ä¸€å®šæ˜¯ç±»åæˆ–è€…æ˜æ˜ç©ºé—´</span><br>&#123;<br>	<span class="hljs-keyword">return</span> data;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼Œè¿™æ®µä»£ç éå¸¸æœ‰ä»£è¡¨æ€§ï¼Œåœ¨ä¸‹ä¸€è¯¾è¡¥å®Œåï¼Œä¸€å®šè¦æŒæ¡ï¼Œå¤šçœ‹å‡ éã€‚</strong></p>
<p><strong>4.</strong> <strong>æ¨¡æ¿çš„å®ç°åŸç†ï¼š</strong></p>
<p>æ¨¡æ¿éœ€è¦ç¼–è¯‘ä¸¤æ¬¡ï¼Œåœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘æ—¶ä»…ä»…æ£€æŸ¥æœ€åŸºæœ¬çš„è¯­æ³•ï¼Œæ¯”å¦‚æ‹¬å·æ˜¯å¦åŒ¹é…ã€‚ç­‰å‡½æ•°çœŸæ­£è¢«è°ƒç”¨æ—¶ï¼Œæ‰ä¼šçœŸæ­£ç”Ÿæˆéœ€è¦çš„ç±»æˆ–å‡½æ•°ã€‚æ‰€ä»¥è¿™ç›´æ¥å¯¼è‡´äº†ä¸€ä¸ªç»“æœï¼Œå°±æ˜¯ä¸è®ºæ˜¯æ¨¡æ¿ç±»è¿˜æ˜¯æ¨¡æ¿å‡½æ•°ï¼Œå£°æ˜ä¸å®ç°éƒ½å¿…é¡»æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚å› ä¸ºåœ¨ç¨‹åºåœ¨ç¼–è¯‘æœŸå°±å¿…é¡»çŸ¥é“å‡½æ•°çš„å…·ä½“å®ç°è¿‡ç¨‹ã€‚å¦‚æœå®ç°å’Œå£°æ˜åˆ†æ–‡ä»¶ç¼–å†™ï¼Œéœ€è¦åœ¨é“¾æ¥æ—¶æ‰å¯ä»¥çœ‹åˆ°å‡½æ•°çš„å…·ä½“å®ç°è¿‡ç¨‹ï¼Œè¿™å½“ç„¶ä¼šæŠ¥é”™ã€‚</p>
<p> äºæ˜¯äººä»¬å‘æ˜äº†.hppæ–‡ä»¶æ¥å­˜æ”¾æ¨¡æ¿è¿™ç§å£°æ˜ä¸å®ç°åœ¨åŒä¸€æ–‡ä»¶çš„æƒ…å†µã€‚</p>
<h2 id="initializer-listä¸typename"><a href="#initializer-listä¸typename" class="headerlink" title="(*)initializer_listä¸typename"></a>(*)initializer_listä¸typename</h2><p>1.initializer_listçš„ç”¨æ³•</p>
<p>(1) initializer_listä»‹ç»ï¼šinitializer_listå…¶å®å°±æ˜¯åˆå§‹åŒ–åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–å„ç§å®¹å™¨ï¼Œæ¯”å¦‚â€œvectorâ€ï¼Œâ€œæ•°ç»„â€ã€‚</p>
<p> 2.typenameçš„ç”¨æ³•</p>
<p>(1) åœ¨å®šä¹‰æ¨¡æ¿æ—¶è¡¨ç¤ºè¿™ä¸ªä¸€ä¸ªå¾…å®šçš„ç±»å‹</p>
<p>(2) åœ¨ç±»å¤–è¡¨æ˜è‡ªå®šä¹‰ç±»å‹æ—¶ä½¿ç”¨</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><code class="hljs c++">#.hpp<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;type_traits&gt;</span><span class="hljs-comment">//èƒå–æŠ€æœ¯åˆ¤æ–­æ˜¯å¦æ˜¯æŒ‡é’ˆ</span></span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//æ¨¡æ¿ç‰¹åŒ–</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">get_type</span><br>&#123;<br>	<span class="hljs-keyword">using</span> type = T;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">get_type</span>&lt;T*&gt;<br>&#123;<br>	<span class="hljs-keyword">using</span> type = T;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArray</span><br>&#123;<br>	<span class="hljs-keyword">using</span> iterator = T*;<span class="hljs-comment">//å®šä¹‰æ–°çš„ç±»å‹</span><br>	<span class="hljs-keyword">using</span> const_iterator = <span class="hljs-type">const</span> T*;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> count);<br>	<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">const</span> std::initializer_list&lt;T&gt;&amp; list);<br>	<span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArray</span><br>&#123;<br>	<span class="hljs-keyword">using</span> iterator = T*;<span class="hljs-comment">//å®šä¹‰æ–°çš„ç±»å‹</span><br>	<span class="hljs-keyword">using</span> const_iterator = <span class="hljs-type">const</span> T*;<br><span class="hljs-keyword">public</span>:<br>	<br>	<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">const</span> std::initializer_list&lt;T&gt;&amp; list);<br>	<span class="hljs-built_in">MyArray</span>(std::initializer_list&lt;T&gt;&amp;&amp; list);<br>	<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> count);<br>	~<span class="hljs-built_in">MyArray</span>();<br><br>	<span class="hljs-function">iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">return</span> data;<br>	&#125;<br>	<span class="hljs-function">const_iterator <span class="hljs-title">cbegin</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">return</span> data;<br>	&#125;<br><br><span class="hljs-keyword">private</span>:<br>	T* data;<span class="hljs-comment">//åœ¨ç±»ä¸­å¤æ‚æƒ…å†µå¯ä»¥ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œåœ¨è€ç‰ˆæœ¬ä¸æ”¯æŒåˆ›å»ºæ•°ç»„</span><br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//å†™åœ¨ç±»å¤–é¢ï¼Œä¸€èˆ¬éƒ½åœ¨ç±»å¤–å®šä¹‰</span><br>MyArray&lt;T&gt;::<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> count)<br>&#123;<br>	<span class="hljs-keyword">if</span> (count)<br>	&#123;<br>		data = <span class="hljs-keyword">new</span> T[count]();<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		data = <span class="hljs-literal">nullptr</span>;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">////ç±»å¤–å®šä¹‰éœ€è¦å…ˆæŠŠæ¨¡æ¿å¤´å†™ä¸Šå»</span><br>MyArray&lt;T&gt;::~<span class="hljs-built_in">MyArray</span>()<br>&#123;<br>	<span class="hljs-keyword">if</span> (data)<br>	&#123;<br>		<span class="hljs-keyword">delete</span>[] data;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//beginçš„ç±»å¤–å®šä¹‰</span><br><span class="hljs-keyword">typename</span> MyArray&lt;T&gt;::iterator MyArray&lt;T&gt;::<span class="hljs-built_in">begin</span>() <span class="hljs-type">const</span><span class="hljs-comment">//::å‰é¢çš„åç§°ä¸€å®šæ˜¯ç±»åæˆ–è€…æ˜æ˜ç©ºé—´</span><br>&#123;<br>	<span class="hljs-keyword">return</span> data;<br>&#125;<br>	~<span class="hljs-built_in">MyArray</span>();<br>	<span class="hljs-function">iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">return</span> data;<br>	&#125;<br>	<span class="hljs-function">const_iterator <span class="hljs-title">cbegin</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">return</span> data;<br>	&#125;<br>	T&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">unsigned</span> count)<span class="hljs-type">const</span><br>	&#123;<br>		<span class="hljs-keyword">return</span> data[count];<span class="hljs-comment">//é‡è½½</span><br>	&#125;<br><br><span class="hljs-keyword">private</span>:<br>	std::vector&lt;T&gt; data;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//å†™åœ¨ç±»å¤–é¢ï¼Œä¸€èˆ¬éƒ½åœ¨ç±»å¤–å®šä¹‰</span><br>MyArray&lt;T&gt;::<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> count)<br>&#123;<br>	<span class="hljs-keyword">if</span> (count)<br>	&#123;<br>		data = <span class="hljs-keyword">new</span> T[count]();<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		data = <span class="hljs-literal">nullptr</span>;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">////ç±»å¤–å®šä¹‰éœ€è¦å…ˆæŠŠæ¨¡æ¿å¤´å†™ä¸Šå»</span><br>MyArray&lt;T&gt;::~<span class="hljs-built_in">MyArray</span>()<br>&#123;<br>	<span class="hljs-keyword">if</span> (data)<br>	&#123;<br>		<span class="hljs-keyword">delete</span>[] data;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br>MyArray&lt;T&gt;::<span class="hljs-built_in">MyArray</span>(<span class="hljs-type">const</span> std::initializer_list&lt;T&gt;&amp; list)<br>&#123;<br>	<span class="hljs-keyword">if</span> (list.<span class="hljs-built_in">size</span>())<br>	&#123;<br>		<span class="hljs-type">unsigned</span> count = <span class="hljs-number">0</span>;<br>		data = <span class="hljs-keyword">new</span> T[list.<span class="hljs-built_in">size</span>()]();<br>		<span class="hljs-keyword">if</span> (std::is_pointer&lt;T&gt;::value)<br>		&#123;<br>			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> elem : list)<br>			&#123;<br>				data[count++] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">typename</span> get_type&lt;T&gt;::<span class="hljs-built_in">type</span>(*elem);<span class="hljs-comment">//ç›¸å½“äºä¸¤å±‚æŒ‡é’ˆï¼Œåœ¨åˆ é™¤æ—¶ï¼Œåªåˆ é™¤ç¬¬ä¸€å±‚ï¼Œä¼šå‡ºç°å†…å­˜æ³„æ¼</span><br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; elem; list)<br>			&#123;<br>				data[count++] = elem;<span class="hljs-comment">//å­˜åœ¨bugï¼Œå¦‚æœå­˜æ”¾çš„æ˜¯æŒ‡é’ˆï¼Œå¾ˆå˜æˆæµ…å¤åˆ¶</span><br>			&#125;<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		data = <span class="hljs-literal">nullptr</span>;<br>	&#125;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br>MyArray&lt;T&gt;::<span class="hljs-built_in">MyArray</span>(std::initializer_list&lt;T&gt;&amp;&amp; list)<span class="hljs-comment">//å³å€¼å¼•ç”¨</span><br>&#123;<br>	<span class="hljs-keyword">if</span> (list.<span class="hljs-built_in">size</span>())<br>	&#123;<br>		<span class="hljs-type">unsigned</span> count = <span class="hljs-number">0</span>;<br>		data = <span class="hljs-keyword">new</span> T[list.<span class="hljs-built_in">size</span>()]();<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; elem; list)<br>		&#123;<br>			data[count++] = elem;<span class="hljs-comment">//å­˜åœ¨bugï¼Œå¦‚æœå­˜æ”¾çš„æ˜¯æŒ‡é’ˆï¼Œå¾ˆå˜æˆæµ…å¤åˆ¶</span><br>		&#125;;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		data = <span class="hljs-literal">nullptr</span>;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++">#.cpp<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;myArray.hpp&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-comment">//std::initializer_list&lt;int&gt; iList&#123; 1,2,3,4,5 &#125;;</span><br>	<span class="hljs-comment">//std::vector&lt;int&gt; ivec(iList);//å·¦å€¼ç±»å‹çš„åˆå§‹åŒ–,å³å€¼ç±»å‹åˆå§‹åŒ–ivec&#123;1,2,3,4,5&#125;</span><br>	<span class="hljs-type">int</span> i1 = <span class="hljs-number">10</span>;<br>	<span class="hljs-type">int</span> i2 = <span class="hljs-number">20</span>;<br>	<span class="hljs-type">int</span> i3 = <span class="hljs-number">30</span>;<br>	<span class="hljs-type">int</span> i4 = <span class="hljs-number">40</span>;<br>	std::initializer_list&lt;<span class="hljs-type">int</span>*&gt; iList&#123; &amp;i1,&amp;i2,&amp;i3,&amp;i4 &#125;;<br>	<span class="hljs-function">MyArray&lt;<span class="hljs-type">int</span>*&gt; <span class="hljs-title">arrayPi</span><span class="hljs-params">(iList)</span></span>;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">unsigned</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; ++i)<br>	&#123;<br>		std::cout &lt;&lt; arrayPi[i] &lt;&lt; std::endl;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>





<p><strong>åœ¨C++çš„æ—©æœŸç‰ˆæœ¬ï¼Œä¸ºäº†å‡å°‘å…³é”®å­—æ•°é‡ï¼Œç”¨classæ¥è¡¨ç¤ºæ¨¡æ¿çš„å‚æ•°ï¼Œä½†æ˜¯åæ¥å› ä¸ºç¬¬äºŒä¸ªåŸå› ï¼Œä¸å¾—ä¸å¼•å…¥typenameå…³é”®å­—ã€‚</strong></p>
<h2 id="å‡½æ•°æ¨¡æ¿ï¼Œæˆå‘˜å‡½æ•°æ¨¡æ¿"><a href="#å‡½æ•°æ¨¡æ¿ï¼Œæˆå‘˜å‡½æ•°æ¨¡æ¿" class="headerlink" title="(*)å‡½æ•°æ¨¡æ¿ï¼Œæˆå‘˜å‡½æ•°æ¨¡æ¿"></a>(*)å‡½æ•°æ¨¡æ¿ï¼Œæˆå‘˜å‡½æ•°æ¨¡æ¿</h2><p>1.æ™®é€šå‡½æ•°æ¨¡æ¿çš„å†™æ³•ä¸ç±»æ¨¡æ¿ç±»ä¼¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;myArray.hpp&quot;</span></span><br><span class="hljs-keyword">namespace</span> mystd<br>&#123;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> iter_type ,<span class="hljs-keyword">typename</span> func_type&gt;<span class="hljs-comment">//æ™®é€šå‡½æ•°æ¨¡æ¿</span><br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">for_each</span><span class="hljs-params">(iter_type first, iter_type last, func_type func)</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> iter = first; iter != last; ++iter)<br>		&#123;<br>			<span class="hljs-built_in">func</span>(*iter);<br>		&#125;<br>	&#125;<br> &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; ivec&#123; <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span> &#125;;<br>	mystd::for_each(ivec.<span class="hljs-built_in">begin</span>(), ivec.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span>&amp; elem) &#123;<br>		++elem;<br>		&#125;);<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> elem : ivec)<br>	&#123;<br>		std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br> &#125;<br></code></pre></td></tr></table></figure>

<p><strong>åœ¨ç°ä»£C++ä¸­ï¼Œå‡½æ•°æ¨¡æ¿ä¸€ç›´æ™®éä½¿ç”¨ï¼Œä¸€å®šè¦æŒæ¡ã€‚</strong></p>
<p> 2.æˆå‘˜å‡½æ•°æ¨¡æ¿</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;myArray.hpp&quot;</span></span><br><br><span class="hljs-keyword">namespace</span> mystd<br>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> iter_type, <span class="hljs-keyword">typename</span> func_type&gt;</span><br><span class="hljs-function">	<span class="hljs-type">void</span> <span class="hljs-title">for_each</span><span class="hljs-params">(iter_type first, iter_type last, func_type func)</span></span><br><span class="hljs-function">	</span>&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> iter = first; iter != last; ++iter)<br>		&#123;<br>			<span class="hljs-built_in">func</span>(*iter);<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<span class="hljs-comment">//æˆå‘˜å‡½æ•°æ¨¡æ¿</span><br>	<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyVector</span><br>	&#123;<br>	<span class="hljs-keyword">public</span>:<br>		<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T2&gt;</span><br><span class="hljs-function">		<span class="hljs-type">void</span> <span class="hljs-title">outPut</span><span class="hljs-params">(<span class="hljs-type">const</span> T2&amp; elem)</span></span>;<br><br>	&#125;;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T2&gt;<br>	<span class="hljs-type">void</span> MyVector&lt;T&gt;::<span class="hljs-built_in">outPut</span>(<span class="hljs-type">const</span> T2&amp; elem)<br>	&#123;<br>		std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>	&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	mystd::MyVector&lt;<span class="hljs-type">int</span>&gt; myVec;<br>	myVec.<span class="hljs-built_in">outPut</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">20</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br> &#125;<br></code></pre></td></tr></table></figure>



<p>æˆå‘˜å‡½æ•°æ¨¡æ¿ä½¿ç”¨æƒ…å†µä¹Ÿä¸å°‘ï¼Œéœ€è¦æŒæ¡çš„</p>
<h2 id="é»˜è®¤æ¨¡æ¿å‚æ•°"><a href="#é»˜è®¤æ¨¡æ¿å‚æ•°" class="headerlink" title="(*)é»˜è®¤æ¨¡æ¿å‚æ•°"></a>(*)é»˜è®¤æ¨¡æ¿å‚æ•°</h2><p>é»˜è®¤æ¨¡æ¿å‚æ•°ï¼š</p>
<p>(1) é»˜è®¤æ¨¡æ¿å‚æ•°æ˜¯ä¸€ä¸ªç»å¸¸ä½¿ç”¨çš„ç‰¹æ€§ï¼Œæ¯”å¦‚åœ¨å®šä¹‰vectorå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨		é»˜è®¤åˆ†é…å™¨ã€‚</p>
<p><img src="/2023/03/05/%E7%8E%B0%E4%BB%A3C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20230723222722915.png" srcset="/img/loading.gif" lazyload></p>
<p>(2) æ¨¡æ¿å‚æ•°å°±å’Œæ™®é€šå‡½æ•°çš„é»˜è®¤å‚æ•°ä¸€æ ·ï¼Œä¸€æ—¦ä¸€ä¸ªå‚æ•°æœ‰äº†é»˜è®¤å‚æ•°ï¼Œå®ƒä¹‹åçš„å‚	  æ•°éƒ½å¿…é¡»æœ‰é»˜è®¤å‚æ•°</p>
<p>(3) å‡½æ•°æ¨¡æ¿ä½¿ç”¨é»˜è®¤æ¨¡æ¿å‚æ•°</p>
<p>(2) ç±»æ¨¡æ¿ä½¿ç”¨æ¨¡æ¿å‚æ•°</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vld.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;functional&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;myArray.hpp&quot;</span></span><br><br><span class="hljs-keyword">namespace</span> mystd<br>&#123;<br>	<span class="hljs-keyword">using</span> void_int_func_type = std::function&lt;<span class="hljs-built_in">void</span>(<span class="hljs-type">int</span>&amp;)&gt;;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> iter_type, <span class="hljs-keyword">typename</span> func_type=void_int_func_type&gt;<span class="hljs-comment">//å‡½æ•°æ¨¡æ¿ä½¿ç”¨æ¨¡æ¿å‚æ•°,typenameè¿™é‡Œæœ‰é»˜è®¤å€¼ï¼Œä¸‹è¾¹éƒ½è¦æœ‰é»˜è®¤å€¼</span><br>	<span class="hljs-type">void</span> for_each(iter_type first, iter_type last, func_type func = [](<span class="hljs-type">int</span>&amp; elem)&#123;<br>			++elem;<br>		&#125;)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> iter = first; iter != last; ++iter)<br>		&#123;<br>			<span class="hljs-built_in">func</span>(*iter);<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> allocator = std::allocator&lt;T&gt;&gt;<span class="hljs-comment">//ç±»æ¨¡æ¿ä½¿ç”¨é»˜è®¤æ¨¡æ¿å‚æ•°</span><br>	<span class="hljs-keyword">class</span> MyVector<br>	&#123;<br>	<span class="hljs-keyword">public</span>:<br>		<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T2&gt;<br>		<span class="hljs-type">void</span> <span class="hljs-built_in">outPut</span>(<span class="hljs-type">const</span> T2&amp; elem);<br><br>	&#125;;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T,<span class="hljs-keyword">typename</span> allocator&gt;<br>	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T2&gt;<br>	<span class="hljs-type">void</span> MyVector&lt;T,allocator&gt;::<span class="hljs-built_in">outPut</span>(<span class="hljs-type">const</span> T2&amp; elem)<br>	&#123;<br>		std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>	&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>	std::vector&lt;<span class="hljs-type">int</span>&gt; ivec&#123; <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span> &#125;;<br>	mystd::for_each(ivec.<span class="hljs-built_in">begin</span>(), ivec.<span class="hljs-built_in">end</span>());<br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> elem : ivec)<br>	&#123;<br>		std::cout &lt;&lt; elem &lt;&lt; std::endl;<br>	&#125;;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å‡ ä¹stlåº“éƒ½åœ¨ä½¿ç”¨æ¨¡æ¿å‚æ•°</p>
<h2 id="æ¨¡æ¿çš„é‡è½½ï¼Œå…¨ç‰¹åŒ–å’Œåç‰¹åŒ–"><a href="#æ¨¡æ¿çš„é‡è½½ï¼Œå…¨ç‰¹åŒ–å’Œåç‰¹åŒ–" class="headerlink" title="(*)æ¨¡æ¿çš„é‡è½½ï¼Œå…¨ç‰¹åŒ–å’Œåç‰¹åŒ–"></a>(*)æ¨¡æ¿çš„é‡è½½ï¼Œå…¨ç‰¹åŒ–å’Œåç‰¹åŒ–</h2><p>1.æ¨¡æ¿çš„é‡è½½</p>
<p>(1) å‡½æ•°æ¨¡æ¿æ˜¯å¯ä»¥é‡è½½çš„ï¼ˆç±»æ¨¡æ¿ä¸èƒ½è¢«é‡è½½ï¼‰ï¼Œé€šè¿‡é‡è½½å¯ä»¥åº”å¯¹æ›´åŠ å¤æ‚çš„æƒ…å†µã€‚æ¯”å¦‚åœ¨å¤„ç†char<em>å’Œstringå¯¹è±¡æ—¶ï¼Œè™½ç„¶éƒ½å¯ä»¥ä»£è¡¨å­—ç¬¦ä¸²ï¼Œä½†char</em>åœ¨å¤åˆ¶æ—¶ç›´æ¥æ‹·è´å†…å­˜æ•ˆç‡æ˜æ˜¾æ›´é«˜ï¼Œstringå°±ä¸å¾—ä¸ä¾æ¬¡è°ƒç”¨æ„é€ å‡½æ•°äº†ã€‚æ‰€ä»¥åœ¨ä¸€äº›æ¯”è¾ƒæœ€æ±‚æ•ˆç‡çš„ç¨‹åºä¸­å¯¹ä¸åŒçš„ç±»å‹è¿›è¡Œä¸åŒçš„å¤„ç†è¿˜æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ã€‚</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; parm)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;void test(const T&amp; parm)&quot;</span> &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">(T* parm)</span><span class="hljs-comment">//è‹¥åŠ ä¸Šconstï¼Œtest(&amp;10)åˆ™ä¼šè°ƒç”¨ç¬¬ä¸€ä¸ª</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;void testï¼ˆT* parm)&quot;</span> &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">(<span class="hljs-type">double</span> parm)</span></span><br><span class="hljs-function"></span>&#123;<br>	std::cout &lt;&lt; <span class="hljs-string">&quot;void test(double parm)&quot;</span> &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">test</span>(<span class="hljs-number">100</span>);<br>	<span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>	<span class="hljs-built_in">test</span>(&amp;i);<br>	<span class="hljs-built_in">test</span>(<span class="hljs-number">2.2</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">void <span class="hljs-built_in">test</span>(const T&amp; parm)<br>void <span class="hljs-built_in">test</span>ï¼ˆT* parm)<br>void <span class="hljs-built_in">test</span>(double parm)<br></code></pre></td></tr></table></figure>



<p>å…¶å®å‡½æ•°æ¨¡æ¿çš„é‡è½½å’Œæ™®é€šå‡½æ•°çš„é‡è½½æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p>
<p>2.æ¨¡æ¿çš„ç‰¹åŒ–</p>
<p>(1) æ¨¡æ¿ç‰¹åŒ–çš„æ„ä¹‰ï¼šå‡½æ•°æ¨¡æ¿å¯ä»¥é‡è½½ä»¥åº”å¯¹æ›´åŠ ç²¾ç»†çš„æƒ…å†µã€‚ç±»æ¨¡æ¿ä¸èƒ½é‡è½½ï¼Œä½†å¯ä»¥ç‰¹åŒ–æ¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚</p>
<p>(2) æ¨¡æ¿çš„ç‰¹åŒ–ä¹Ÿåˆ†ä¸ºä¸¤ç§ï¼Œå…¨ç‰¹åŒ–å’Œåç‰¹åŒ–ã€‚æ¨¡æ¿çš„å…¨ç‰¹åŒ–ï¼šå°±æ˜¯æŒ‡æ¨¡æ¿çš„å®å‚åˆ—è¡¨ä¸ä¸ç›¸åº”çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸€ä¸€å¯¹åº”ã€‚</p>
<p>(3) æ¨¡æ¿çš„åç‰¹åŒ–ï¼šåç‰¹åŒ–å°±æ˜¯ä»‹äºæ™®é€šæ¨¡æ¿å’Œå…¨ç‰¹åŒ–ä¹‹é—´ï¼Œåªå­˜åœ¨éƒ¨åˆ†ç±»å‹æ˜ç¡®åŒ–ï¼Œè€Œéå°†æ¨¡æ¿å”¯ä¸€åŒ–ã€‚</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T1,<span class="hljs-keyword">typename</span> T2&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Test</span>() &#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;common template&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span> T2&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&lt;T1*, T2*&gt;<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Test</span>() &#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;point semi-template&quot;</span> &lt; , std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T2&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&lt;<span class="hljs-type">int</span>, T2&gt;<span class="hljs-comment">//åªå†™ä¸€éƒ¨åˆ†å«åç‰¹åŒ–</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Test</span>() &#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;int ssssemi-special&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;<br>&#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Test</span>() &#123;<br>		std::cout &lt;&lt; <span class="hljs-string">&quot;int,int complete special&quot;</span> &lt;&lt; std::endl;<br>	&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Test&lt;<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>*&gt; test;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>



<p><strong>(4)</strong> <strong>å…¶å®å¯¹äºå‡½æ•°æ¨¡æ¿æ¥è¯´ï¼Œç‰¹åŒ–ä¸é‡è½½å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªä¸œè¥¿ã€‚</strong></p>
<p> <strong>æ€»ç»“ï¼šå‡½æ•°æ¨¡æ¿çš„é‡è½½ï¼Œç±»æ¨¡æ¿çš„ç‰¹åŒ–ã€‚è¿˜æ˜¯æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œåº”å½“æŒæ¡ï¼Œåœ¨ä¸€äº›æ¯”è¾ƒå¤æ‚çš„ç¨‹åºä¸­ï¼Œæ¨¡æ¿é‡è½½ä¸ç‰¹åŒ–æ˜¯ç»å¸¸ä½¿ç”¨çš„ã€‚</strong></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/c-c-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="category-chain-item">c/c++å­¦ä¹ ç¬”è®°</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/c/" class="print-no-link">#c++</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ç°ä»£C++å­¦ä¹ ç¬”è®°</div>
      <div>http://example.com/2023/03/05/ç°ä»£C++å­¦ä¹ ç¬”è®°/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>fan fan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2023å¹´3æœˆ5æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/03/07/buuctf%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/" title="buuctf-pwn">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">buuctf-pwn</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/02/20/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%AE%80%E5%8D%95%E6%91%98%E8%A6%81/" title="æ±‡ç¼–è¯­è¨€ç®€å•æ‘˜è¦">
                        <span class="hidden-mobile">æ±‡ç¼–è¯­è¨€ç®€å•æ‘˜è¦</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      

    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
  
    <!-- å¤‡æ¡ˆä¿¡æ¯ ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      äº¬ICPè¯123456å·
    </a>
  </span>
  
    
      <span>
        <a
          href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12345678"
          rel="nofollow noopener"
          class="beian-police"
          target="_blank"
        >
          
            <span style="visibility: hidden; width: 0">|</span>
            <img src="/img/police_beian.png" srcset="/img/loading.gif" lazyload alt="police-icon"/>
          
          <span>äº¬å…¬ç½‘å®‰å¤‡12345678å·</span>
        </a>
      </span>
    
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/DynamicRibbon.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/runtime.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/DynamicLine.min.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
